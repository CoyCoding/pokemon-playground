(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name))Object.defineProperty(exports,name,{enumerable:true,get:getter})};__webpack_require__.r=function(exports){if("undefined"!==typeof Symbol&&Symbol.toStringTag)Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(1&mode)value=__webpack_require__(value);if(8&mode)return value;if(4&mode&&"object"===typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=31)})([function(module,exports,__webpack_require__){"use strict";var bind=__webpack_require__(3);var isBuffer=__webpack_require__(12);var toString=Object.prototype.toString;function isArray(val){return"[object Array]"===toString.call(val)}function isArrayBuffer(val){return"[object ArrayBuffer]"===toString.call(val)}function isFormData(val){return"undefined"!==typeof FormData&&val instanceof FormData}function isArrayBufferView(val){var result;if("undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView)result=ArrayBuffer.isView(val);else result=val&&val.buffer&&val.buffer instanceof ArrayBuffer;return result}function isString(val){return"string"===typeof val}function isNumber(val){return"number"===typeof val}function isUndefined(val){return"undefined"===typeof val}function isObject(val){return null!==val&&"object"===typeof val}function isDate(val){return"[object Date]"===toString.call(val)}function isFile(val){return"[object File]"===toString.call(val)}function isBlob(val){return"[object Blob]"===toString.call(val)}function isFunction(val){return"[object Function]"===toString.call(val)}function isStream(val){return isObject(val)&&isFunction(val.pipe)}function isURLSearchParams(val){return"undefined"!==typeof URLSearchParams&&val instanceof URLSearchParams}function trim(str){return str.replace(/^\s*/,"").replace(/\s*$/,"")}function isStandardBrowserEnv(){if("undefined"!==typeof navigator&&"ReactNative"===navigator.product)return false;return"undefined"!==typeof window&&"undefined"!==typeof document}function forEach(obj,fn){if(null===obj||"undefined"===typeof obj)return;if("object"!==typeof obj)obj=[obj];if(isArray(obj))for(var i=0,l=obj.length;i<l;i++)fn.call(null,obj[i],i,obj);else for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key))fn.call(null,obj[key],key,obj)}function merge(){var result={};function assignValue(val,key){if("object"===typeof result[key]&&"object"===typeof val)result[key]=merge(result[key],val);else result[key]=val}for(var i=0,l=arguments.length;i<l;i++)forEach(arguments[i],assignValue);return result}function extend(a,b,thisArg){forEach(b,function(val,key){if(thisArg&&"function"===typeof val)a[key]=bind(val,thisArg);else a[key]=val});return a}module.exports={isArray:isArray,isArrayBuffer:isArrayBuffer,isBuffer:isBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isObject:isObject,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isFunction:isFunction,isStream:isStream,isURLSearchParams:isURLSearchParams,isStandardBrowserEnv:isStandardBrowserEnv,forEach:forEach,merge:merge,extend:extend,trim:trim}},function(module,exports,__webpack_require__){(function(global){var require;(function(f){if(true)module.exports=f();else;})(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return require(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i="function"==typeof require&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module){(function(global){"use strict";var Mutation=global.MutationObserver||global.WebKitMutationObserver;var scheduleDrain;if(Mutation){var called=0;var observer=new Mutation(nextTick);var element=global.document.createTextNode("");observer.observe(element,{characterData:true});scheduleDrain=function(){element.data=called=++called%2}}else if(!global.setImmediate&&"undefined"!==typeof global.MessageChannel){var channel=new global.MessageChannel;channel.port1.onmessage=nextTick;scheduleDrain=function(){channel.port2.postMessage(0)}}else if("document"in global&&"onreadystatechange"in global.document.createElement("script"))scheduleDrain=function(){var scriptEl=global.document.createElement("script");scriptEl.onreadystatechange=function(){nextTick();scriptEl.onreadystatechange=null;scriptEl.parentNode.removeChild(scriptEl);scriptEl=null};global.document.documentElement.appendChild(scriptEl)};else scheduleDrain=function(){setTimeout(nextTick,0)};var draining;var queue=[];function nextTick(){draining=true;var i,oldQueue;var len=queue.length;while(len){oldQueue=queue;queue=[];i=-1;while(++i<len)oldQueue[i]();len=queue.length}draining=false}module.exports=immediate;function immediate(task){if(1===queue.push(task)&&!draining)scheduleDrain()}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],2:[function(_dereq_,module){"use strict";var immediate=_dereq_(1);function INTERNAL(){}var handlers={};var REJECTED=["REJECTED"];var FULFILLED=["FULFILLED"];var PENDING=["PENDING"];module.exports=Promise;function Promise(resolver){if("function"!==typeof resolver)throw new TypeError("resolver must be a function");this.state=PENDING;this.queue=[];this.outcome=void 0;if(resolver!==INTERNAL)safelyResolveThenable(this,resolver)}Promise.prototype["catch"]=function(onRejected){return this.then(null,onRejected)};Promise.prototype.then=function(onFulfilled,onRejected){if("function"!==typeof onFulfilled&&this.state===FULFILLED||"function"!==typeof onRejected&&this.state===REJECTED)return this;var promise=new this.constructor(INTERNAL);if(this.state!==PENDING){var resolver=this.state===FULFILLED?onFulfilled:onRejected;unwrap(promise,resolver,this.outcome)}else this.queue.push(new QueueItem(promise,onFulfilled,onRejected));return promise};function QueueItem(promise,onFulfilled,onRejected){this.promise=promise;if("function"===typeof onFulfilled){this.onFulfilled=onFulfilled;this.callFulfilled=this.otherCallFulfilled}if("function"===typeof onRejected){this.onRejected=onRejected;this.callRejected=this.otherCallRejected}}QueueItem.prototype.callFulfilled=function(value){handlers.resolve(this.promise,value)};QueueItem.prototype.otherCallFulfilled=function(value){unwrap(this.promise,this.onFulfilled,value)};QueueItem.prototype.callRejected=function(value){handlers.reject(this.promise,value)};QueueItem.prototype.otherCallRejected=function(value){unwrap(this.promise,this.onRejected,value)};function unwrap(promise,func,value){immediate(function(){var returnValue;try{returnValue=func(value)}catch(e){return handlers.reject(promise,e)}if(returnValue===promise)handlers.reject(promise,new TypeError("Cannot resolve promise with itself"));else handlers.resolve(promise,returnValue)})}handlers.resolve=function(self,value){var result=tryCatch(getThen,value);if("error"===result.status)return handlers.reject(self,result.value);var thenable=result.value;if(thenable)safelyResolveThenable(self,thenable);else{self.state=FULFILLED;self.outcome=value;var i=-1;var len=self.queue.length;while(++i<len)self.queue[i].callFulfilled(value)}return self};handlers.reject=function(self,error){self.state=REJECTED;self.outcome=error;var i=-1;var len=self.queue.length;while(++i<len)self.queue[i].callRejected(error);return self};function getThen(obj){var then=obj&&obj.then;if(obj&&("object"===typeof obj||"function"===typeof obj)&&"function"===typeof then)return function(){then.apply(obj,arguments)}}function safelyResolveThenable(self,thenable){var called=false;function onError(value){if(called)return;called=true;handlers.reject(self,value)}function onSuccess(value){if(called)return;called=true;handlers.resolve(self,value)}function tryToUnwrap(){thenable(onSuccess,onError)}var result=tryCatch(tryToUnwrap);if("error"===result.status)onError(result.value)}function tryCatch(func,value){var out={};try{out.value=func(value);out.status="success"}catch(e){out.status="error";out.value=e}return out}Promise.resolve=resolve;function resolve(value){if(value instanceof this)return value;return handlers.resolve(new this(INTERNAL),value)}Promise.reject=reject;function reject(reason){var promise=new this(INTERNAL);return handlers.reject(promise,reason)}Promise.all=all;function all(iterable){var self=this;if("[object Array]"!==Object.prototype.toString.call(iterable))return this.reject(new TypeError("must be an array"));var len=iterable.length;var called=false;if(!len)return this.resolve([]);var values=new Array(len);var resolved=0;var i=-1;var promise=new this(INTERNAL);while(++i<len)allResolver(iterable[i],i);return promise;function allResolver(value,i){self.resolve(value).then(resolveFromAll,function(error){if(!called){called=true;handlers.reject(promise,error)}});function resolveFromAll(outValue){values[i]=outValue;if(++resolved===len&&!called){called=true;handlers.resolve(promise,values)}}}}Promise.race=race;function race(iterable){var self=this;if("[object Array]"!==Object.prototype.toString.call(iterable))return this.reject(new TypeError("must be an array"));var len=iterable.length;var called=false;if(!len)return this.resolve([]);var i=-1;var promise=new this(INTERNAL);while(++i<len)resolver(iterable[i]);return promise;function resolver(value){self.resolve(value).then(function(response){if(!called){called=true;handlers.resolve(promise,response)}},function(error){if(!called){called=true;handlers.reject(promise,error)}})}}},{1:1}],3:[function(_dereq_){(function(global){"use strict";if("function"!==typeof global.Promise)global.Promise=_dereq_(2)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{2:2}],4:[function(_dereq_,module){"use strict";var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"===typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function getIDB(){try{if("undefined"!==typeof indexedDB)return indexedDB;if("undefined"!==typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!==typeof mozIndexedDB)return mozIndexedDB;if("undefined"!==typeof OIndexedDB)return OIndexedDB;if("undefined"!==typeof msIndexedDB)return msIndexedDB}catch(e){return}}var idb=getIDB();function isIndexedDBValid(){try{if(!idb)return false;var isSafari="undefined"!==typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform);var hasFetch="function"===typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!isSafari||hasFetch)&&"undefined"!==typeof indexedDB&&"undefined"!==typeof IDBKeyRange}catch(e){return false}}function createBlob(parts,properties){parts=parts||[];properties=properties||{};try{return new Blob(parts,properties)}catch(e){if("TypeError"!==e.name)throw e;var Builder="undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder;var builder=new Builder;for(var i=0;i<parts.length;i+=1)builder.append(parts[i]);return builder.getBlob(properties.type)}}if("undefined"===typeof Promise)_dereq_(3);var Promise$1=Promise;function executeCallback(promise,callback){if(callback)promise.then(function(result){callback(null,result)},function(error){callback(error)})}function executeTwoCallbacks(promise,callback,errorCallback){if("function"===typeof callback)promise.then(callback);if("function"===typeof errorCallback)promise["catch"](errorCallback)}function normalizeKey(key){if("string"!==typeof key){console.warn(key+" used as a key, but it is not a string.");key=String(key)}return key}function getCallback(){if(arguments.length&&"function"===typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var DETECT_BLOB_SUPPORT_STORE="local-forage-detect-blob-support";var supportsBlobs=void 0;var dbContexts={};var toString=Object.prototype.toString;var READ_ONLY="readonly";var READ_WRITE="readwrite";function _binStringToArrayBuffer(bin){var length=bin.length;var buf=new ArrayBuffer(length);var arr=new Uint8Array(buf);for(var i=0;i<length;i++)arr[i]=bin.charCodeAt(i);return buf}function _checkBlobSupportWithoutCaching(idb){return new Promise$1(function(resolve){var txn=idb.transaction(DETECT_BLOB_SUPPORT_STORE,READ_WRITE);var blob=createBlob([""]);txn.objectStore(DETECT_BLOB_SUPPORT_STORE).put(blob,"key");txn.onabort=function(e){e.preventDefault();e.stopPropagation();resolve(false)};txn.oncomplete=function(){var matchedChrome=navigator.userAgent.match(/Chrome\/(\d+)/);var matchedEdge=navigator.userAgent.match(/Edge\//);resolve(matchedEdge||!matchedChrome||parseInt(matchedChrome[1],10)>=43)}})["catch"](function(){return false})}function _checkBlobSupport(idb){if("boolean"===typeof supportsBlobs)return Promise$1.resolve(supportsBlobs);return _checkBlobSupportWithoutCaching(idb).then(function(value){supportsBlobs=value;return supportsBlobs})}function _deferReadiness(dbInfo){var dbContext=dbContexts[dbInfo.name];var deferredOperation={};deferredOperation.promise=new Promise$1(function(resolve,reject){deferredOperation.resolve=resolve;deferredOperation.reject=reject});dbContext.deferredOperations.push(deferredOperation);if(!dbContext.dbReady)dbContext.dbReady=deferredOperation.promise;else dbContext.dbReady=dbContext.dbReady.then(function(){return deferredOperation.promise})}function _advanceReadiness(dbInfo){var dbContext=dbContexts[dbInfo.name];var deferredOperation=dbContext.deferredOperations.pop();if(deferredOperation){deferredOperation.resolve();return deferredOperation.promise}}function _rejectReadiness(dbInfo,err){var dbContext=dbContexts[dbInfo.name];var deferredOperation=dbContext.deferredOperations.pop();if(deferredOperation){deferredOperation.reject(err);return deferredOperation.promise}}function _getConnection(dbInfo,upgradeNeeded){return new Promise$1(function(resolve,reject){dbContexts[dbInfo.name]=dbContexts[dbInfo.name]||createDbContext();if(dbInfo.db)if(upgradeNeeded){_deferReadiness(dbInfo);dbInfo.db.close()}else return resolve(dbInfo.db);var dbArgs=[dbInfo.name];if(upgradeNeeded)dbArgs.push(dbInfo.version);var openreq=idb.open.apply(idb,dbArgs);if(upgradeNeeded)openreq.onupgradeneeded=function(e){var db=openreq.result;try{db.createObjectStore(dbInfo.storeName);if(e.oldVersion<=1)db.createObjectStore(DETECT_BLOB_SUPPORT_STORE)}catch(ex){if("ConstraintError"===ex.name)console.warn('The database "'+dbInfo.name+'"'+" has been upgraded from version "+e.oldVersion+" to version "+e.newVersion+', but the storage "'+dbInfo.storeName+'" already exists.');else throw ex}};openreq.onerror=function(e){e.preventDefault();reject(openreq.error)};openreq.onsuccess=function(){resolve(openreq.result);_advanceReadiness(dbInfo)}})}function _getOriginalConnection(dbInfo){return _getConnection(dbInfo,false)}function _getUpgradedConnection(dbInfo){return _getConnection(dbInfo,true)}function _isUpgradeNeeded(dbInfo,defaultVersion){if(!dbInfo.db)return true;var isNewStore=!dbInfo.db.objectStoreNames.contains(dbInfo.storeName);var isDowngrade=dbInfo.version<dbInfo.db.version;var isUpgrade=dbInfo.version>dbInfo.db.version;if(isDowngrade){if(dbInfo.version!==defaultVersion)console.warn('The database "'+dbInfo.name+'"'+" can't be downgraded from version "+dbInfo.db.version+" to version "+dbInfo.version+".");dbInfo.version=dbInfo.db.version}if(isUpgrade||isNewStore){if(isNewStore){var incVersion=dbInfo.db.version+1;if(incVersion>dbInfo.version)dbInfo.version=incVersion}return true}return false}function _encodeBlob(blob){return new Promise$1(function(resolve,reject){var reader=new FileReader;reader.onerror=reject;reader.onloadend=function(e){var base64=btoa(e.target.result||"");resolve({__local_forage_encoded_blob:true,data:base64,type:blob.type})};reader.readAsBinaryString(blob)})}function _decodeBlob(encodedBlob){var arrayBuff=_binStringToArrayBuffer(atob(encodedBlob.data));return createBlob([arrayBuff],{type:encodedBlob.type})}function _isEncodedBlob(value){return value&&value.__local_forage_encoded_blob}function _fullyReady(callback){var self=this;var promise=self._initReady().then(function(){var dbContext=dbContexts[self._dbInfo.name];if(dbContext&&dbContext.dbReady)return dbContext.dbReady});executeTwoCallbacks(promise,callback,callback);return promise}function _tryReconnect(dbInfo){_deferReadiness(dbInfo);var dbContext=dbContexts[dbInfo.name];var forages=dbContext.forages;for(var i=0;i<forages.length;i++){var forage=forages[i];if(forage._dbInfo.db){forage._dbInfo.db.close();forage._dbInfo.db=null}}dbInfo.db=null;return _getOriginalConnection(dbInfo).then(function(db){dbInfo.db=db;if(_isUpgradeNeeded(dbInfo))return _getUpgradedConnection(dbInfo);return db}).then(function(db){dbInfo.db=dbContext.db=db;for(var i=0;i<forages.length;i++)forages[i]._dbInfo.db=db})["catch"](function(err){_rejectReadiness(dbInfo,err);throw err})}function createTransaction(dbInfo,mode,callback,retries){if(void 0===retries)retries=1;try{var tx=dbInfo.db.transaction(dbInfo.storeName,mode);callback(null,tx)}catch(err){if(retries>0&&(!dbInfo.db||"InvalidStateError"===err.name||"NotFoundError"===err.name))return Promise$1.resolve().then(function(){if(!dbInfo.db||"NotFoundError"===err.name&&!dbInfo.db.objectStoreNames.contains(dbInfo.storeName)&&dbInfo.version<=dbInfo.db.version){if(dbInfo.db)dbInfo.version=dbInfo.db.version+1;return _getUpgradedConnection(dbInfo)}}).then(function(){return _tryReconnect(dbInfo).then(function(){createTransaction(dbInfo,mode,callback,retries-1)})})["catch"](callback);callback(err)}}function createDbContext(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function _initStorage(options){var self=this;var dbInfo={db:null};if(options)for(var i in options)dbInfo[i]=options[i];var dbContext=dbContexts[dbInfo.name];if(!dbContext){dbContext=createDbContext();dbContexts[dbInfo.name]=dbContext}dbContext.forages.push(self);if(!self._initReady){self._initReady=self.ready;self.ready=_fullyReady}var initPromises=[];function ignoreErrors(){return Promise$1.resolve()}for(var j=0;j<dbContext.forages.length;j++){var forage=dbContext.forages[j];if(forage!==self)initPromises.push(forage._initReady()["catch"](ignoreErrors))}var forages=dbContext.forages.slice(0);return Promise$1.all(initPromises).then(function(){dbInfo.db=dbContext.db;return _getOriginalConnection(dbInfo)}).then(function(db){dbInfo.db=db;if(_isUpgradeNeeded(dbInfo,self._defaultConfig.version))return _getUpgradedConnection(dbInfo);return db}).then(function(db){dbInfo.db=dbContext.db=db;self._dbInfo=dbInfo;for(var k=0;k<forages.length;k++){var forage=forages[k];if(forage!==self){forage._dbInfo.db=dbInfo.db;forage._dbInfo.version=dbInfo.version}}})}function getItem(key,callback){var self=this;key=normalizeKey(key);var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){createTransaction(self._dbInfo,READ_ONLY,function(err,transaction){if(err)return reject(err);try{var store=transaction.objectStore(self._dbInfo.storeName);var req=store.get(key);req.onsuccess=function(){var value=req.result;if(void 0===value)value=null;if(_isEncodedBlob(value))value=_decodeBlob(value);resolve(value)};req.onerror=function(){reject(req.error)}}catch(e){reject(e)}})})["catch"](reject)});executeCallback(promise,callback);return promise}function iterate(iterator,callback){var self=this;var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){createTransaction(self._dbInfo,READ_ONLY,function(err,transaction){if(err)return reject(err);try{var store=transaction.objectStore(self._dbInfo.storeName);var req=store.openCursor();var iterationNumber=1;req.onsuccess=function(){var cursor=req.result;if(cursor){var value=cursor.value;if(_isEncodedBlob(value))value=_decodeBlob(value);var result=iterator(value,cursor.key,iterationNumber++);if(void 0!==result)resolve(result);else cursor["continue"]()}else resolve()};req.onerror=function(){reject(req.error)}}catch(e){reject(e)}})})["catch"](reject)});executeCallback(promise,callback);return promise}function setItem(key,value,callback){var self=this;key=normalizeKey(key);var promise=new Promise$1(function(resolve,reject){var dbInfo;self.ready().then(function(){dbInfo=self._dbInfo;if("[object Blob]"===toString.call(value))return _checkBlobSupport(dbInfo.db).then(function(blobSupport){if(blobSupport)return value;return _encodeBlob(value)});return value}).then(function(value){createTransaction(self._dbInfo,READ_WRITE,function(err,transaction){if(err)return reject(err);try{var store=transaction.objectStore(self._dbInfo.storeName);if(null===value)value=void 0;var req=store.put(value,key);transaction.oncomplete=function(){if(void 0===value)value=null;resolve(value)};transaction.onabort=transaction.onerror=function(){var err=req.error?req.error:req.transaction.error;reject(err)}}catch(e){reject(e)}})})["catch"](reject)});executeCallback(promise,callback);return promise}function removeItem(key,callback){var self=this;key=normalizeKey(key);var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){createTransaction(self._dbInfo,READ_WRITE,function(err,transaction){if(err)return reject(err);try{var store=transaction.objectStore(self._dbInfo.storeName);var req=store["delete"](key);transaction.oncomplete=function(){resolve()};transaction.onerror=function(){reject(req.error)};transaction.onabort=function(){var err=req.error?req.error:req.transaction.error;reject(err)}}catch(e){reject(e)}})})["catch"](reject)});executeCallback(promise,callback);return promise}function clear(callback){var self=this;var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){createTransaction(self._dbInfo,READ_WRITE,function(err,transaction){if(err)return reject(err);try{var store=transaction.objectStore(self._dbInfo.storeName);var req=store.clear();transaction.oncomplete=function(){resolve()};transaction.onabort=transaction.onerror=function(){var err=req.error?req.error:req.transaction.error;reject(err)}}catch(e){reject(e)}})})["catch"](reject)});executeCallback(promise,callback);return promise}function length(callback){var self=this;var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){createTransaction(self._dbInfo,READ_ONLY,function(err,transaction){if(err)return reject(err);try{var store=transaction.objectStore(self._dbInfo.storeName);var req=store.count();req.onsuccess=function(){resolve(req.result)};req.onerror=function(){reject(req.error)}}catch(e){reject(e)}})})["catch"](reject)});executeCallback(promise,callback);return promise}function key(n,callback){var self=this;var promise=new Promise$1(function(resolve,reject){if(n<0){resolve(null);return}self.ready().then(function(){createTransaction(self._dbInfo,READ_ONLY,function(err,transaction){if(err)return reject(err);try{var store=transaction.objectStore(self._dbInfo.storeName);var advanced=false;var req=store.openCursor();req.onsuccess=function(){var cursor=req.result;if(!cursor){resolve(null);return}if(0===n)resolve(cursor.key);else if(!advanced){advanced=true;cursor.advance(n)}else resolve(cursor.key)};req.onerror=function(){reject(req.error)}}catch(e){reject(e)}})})["catch"](reject)});executeCallback(promise,callback);return promise}function keys(callback){var self=this;var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){createTransaction(self._dbInfo,READ_ONLY,function(err,transaction){if(err)return reject(err);try{var store=transaction.objectStore(self._dbInfo.storeName);var req=store.openCursor();var keys=[];req.onsuccess=function(){var cursor=req.result;if(!cursor){resolve(keys);return}keys.push(cursor.key);cursor["continue"]()};req.onerror=function(){reject(req.error)}}catch(e){reject(e)}})})["catch"](reject)});executeCallback(promise,callback);return promise}function dropInstance(options,callback){callback=getCallback.apply(this,arguments);var currentConfig=this.config();options="function"!==typeof options&&options||{};if(!options.name){options.name=options.name||currentConfig.name;options.storeName=options.storeName||currentConfig.storeName}var self=this;var promise;if(!options.name)promise=Promise$1.reject("Invalid arguments");else{var isCurrentDb=options.name===currentConfig.name&&self._dbInfo.db;var dbPromise=isCurrentDb?Promise$1.resolve(self._dbInfo.db):_getOriginalConnection(options).then(function(db){var dbContext=dbContexts[options.name];var forages=dbContext.forages;dbContext.db=db;for(var i=0;i<forages.length;i++)forages[i]._dbInfo.db=db;return db});if(!options.storeName)promise=dbPromise.then(function(db){_deferReadiness(options);var dbContext=dbContexts[options.name];var forages=dbContext.forages;db.close();for(var i=0;i<forages.length;i++){var forage=forages[i];forage._dbInfo.db=null}var dropDBPromise=new Promise$1(function(resolve,reject){var req=idb.deleteDatabase(options.name);req.onerror=req.onblocked=function(err){var db=req.result;if(db)db.close();reject(err)};req.onsuccess=function(){var db=req.result;if(db)db.close();resolve(db)}});return dropDBPromise.then(function(db){dbContext.db=db;for(var i=0;i<forages.length;i++){var _forage=forages[i];_advanceReadiness(_forage._dbInfo)}})["catch"](function(err){(_rejectReadiness(options,err)||Promise$1.resolve())["catch"](function(){});throw err})});else promise=dbPromise.then(function(db){if(!db.objectStoreNames.contains(options.storeName))return;var newVersion=db.version+1;_deferReadiness(options);var dbContext=dbContexts[options.name];var forages=dbContext.forages;db.close();for(var i=0;i<forages.length;i++){var forage=forages[i];forage._dbInfo.db=null;forage._dbInfo.version=newVersion}var dropObjectPromise=new Promise$1(function(resolve,reject){var req=idb.open(options.name,newVersion);req.onerror=function(err){var db=req.result;db.close();reject(err)};req.onupgradeneeded=function(){var db=req.result;db.deleteObjectStore(options.storeName)};req.onsuccess=function(){var db=req.result;db.close();resolve(db)}});return dropObjectPromise.then(function(db){dbContext.db=db;for(var j=0;j<forages.length;j++){var _forage2=forages[j];_forage2._dbInfo.db=db;_advanceReadiness(_forage2._dbInfo)}})["catch"](function(err){(_rejectReadiness(options,err)||Promise$1.resolve())["catch"](function(){});throw err})})}executeCallback(promise,callback);return promise}var asyncStorage={_driver:"asyncStorage",_initStorage:_initStorage,_support:isIndexedDBValid(),iterate:iterate,getItem:getItem,setItem:setItem,removeItem:removeItem,clear:clear,length:length,key:key,keys:keys,dropInstance:dropInstance};function isWebSQLValid(){return"function"===typeof openDatabase}var BASE_CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var BLOB_TYPE_PREFIX="~~local_forage_type~";var BLOB_TYPE_PREFIX_REGEX=/^~~local_forage_type~([^~]+)~/;var SERIALIZED_MARKER="__lfsc__:";var SERIALIZED_MARKER_LENGTH=SERIALIZED_MARKER.length;var TYPE_ARRAYBUFFER="arbf";var TYPE_BLOB="blob";var TYPE_INT8ARRAY="si08";var TYPE_UINT8ARRAY="ui08";var TYPE_UINT8CLAMPEDARRAY="uic8";var TYPE_INT16ARRAY="si16";var TYPE_INT32ARRAY="si32";var TYPE_UINT16ARRAY="ur16";var TYPE_UINT32ARRAY="ui32";var TYPE_FLOAT32ARRAY="fl32";var TYPE_FLOAT64ARRAY="fl64";var TYPE_SERIALIZED_MARKER_LENGTH=SERIALIZED_MARKER_LENGTH+TYPE_ARRAYBUFFER.length;var toString$1=Object.prototype.toString;function stringToBuffer(serializedString){var bufferLength=.75*serializedString.length;var len=serializedString.length;var i;var p=0;var encoded1,encoded2,encoded3,encoded4;if("="===serializedString[serializedString.length-1]){bufferLength--;if("="===serializedString[serializedString.length-2])bufferLength--}var buffer=new ArrayBuffer(bufferLength);var bytes=new Uint8Array(buffer);for(i=0;i<len;i+=4){encoded1=BASE_CHARS.indexOf(serializedString[i]);encoded2=BASE_CHARS.indexOf(serializedString[i+1]);encoded3=BASE_CHARS.indexOf(serializedString[i+2]);encoded4=BASE_CHARS.indexOf(serializedString[i+3]);bytes[p++]=encoded1<<2|encoded2>>4;bytes[p++]=(15&encoded2)<<4|encoded3>>2;bytes[p++]=(3&encoded3)<<6|63&encoded4}return buffer}function bufferToString(buffer){var bytes=new Uint8Array(buffer);var base64String="";var i;for(i=0;i<bytes.length;i+=3){base64String+=BASE_CHARS[bytes[i]>>2];base64String+=BASE_CHARS[(3&bytes[i])<<4|bytes[i+1]>>4];base64String+=BASE_CHARS[(15&bytes[i+1])<<2|bytes[i+2]>>6];base64String+=BASE_CHARS[63&bytes[i+2]]}if(bytes.length%3===2)base64String=base64String.substring(0,base64String.length-1)+"=";else if(bytes.length%3===1)base64String=base64String.substring(0,base64String.length-2)+"==";return base64String}function serialize(value,callback){var valueType="";if(value)valueType=toString$1.call(value);if(value&&("[object ArrayBuffer]"===valueType||value.buffer&&"[object ArrayBuffer]"===toString$1.call(value.buffer))){var buffer;var marker=SERIALIZED_MARKER;if(value instanceof ArrayBuffer){buffer=value;marker+=TYPE_ARRAYBUFFER}else{buffer=value.buffer;if("[object Int8Array]"===valueType)marker+=TYPE_INT8ARRAY;else if("[object Uint8Array]"===valueType)marker+=TYPE_UINT8ARRAY;else if("[object Uint8ClampedArray]"===valueType)marker+=TYPE_UINT8CLAMPEDARRAY;else if("[object Int16Array]"===valueType)marker+=TYPE_INT16ARRAY;else if("[object Uint16Array]"===valueType)marker+=TYPE_UINT16ARRAY;else if("[object Int32Array]"===valueType)marker+=TYPE_INT32ARRAY;else if("[object Uint32Array]"===valueType)marker+=TYPE_UINT32ARRAY;else if("[object Float32Array]"===valueType)marker+=TYPE_FLOAT32ARRAY;else if("[object Float64Array]"===valueType)marker+=TYPE_FLOAT64ARRAY;else callback(new Error("Failed to get type for BinaryArray"))}callback(marker+bufferToString(buffer))}else if("[object Blob]"===valueType){var fileReader=new FileReader;fileReader.onload=function(){var str=BLOB_TYPE_PREFIX+value.type+"~"+bufferToString(this.result);callback(SERIALIZED_MARKER+TYPE_BLOB+str)};fileReader.readAsArrayBuffer(value)}else try{callback(JSON.stringify(value))}catch(e){console.error("Couldn't convert value into a JSON string: ",value);callback(null,e)}}function deserialize(value){if(value.substring(0,SERIALIZED_MARKER_LENGTH)!==SERIALIZED_MARKER)return JSON.parse(value);var serializedString=value.substring(TYPE_SERIALIZED_MARKER_LENGTH);var type=value.substring(SERIALIZED_MARKER_LENGTH,TYPE_SERIALIZED_MARKER_LENGTH);var blobType;if(type===TYPE_BLOB&&BLOB_TYPE_PREFIX_REGEX.test(serializedString)){var matcher=serializedString.match(BLOB_TYPE_PREFIX_REGEX);blobType=matcher[1];serializedString=serializedString.substring(matcher[0].length)}var buffer=stringToBuffer(serializedString);switch(type){case TYPE_ARRAYBUFFER:return buffer;case TYPE_BLOB:return createBlob([buffer],{type:blobType});case TYPE_INT8ARRAY:return new Int8Array(buffer);case TYPE_UINT8ARRAY:return new Uint8Array(buffer);case TYPE_UINT8CLAMPEDARRAY:return new Uint8ClampedArray(buffer);case TYPE_INT16ARRAY:return new Int16Array(buffer);case TYPE_UINT16ARRAY:return new Uint16Array(buffer);case TYPE_INT32ARRAY:return new Int32Array(buffer);case TYPE_UINT32ARRAY:return new Uint32Array(buffer);case TYPE_FLOAT32ARRAY:return new Float32Array(buffer);case TYPE_FLOAT64ARRAY:return new Float64Array(buffer);default:throw new Error("Unkown type: "+type)}}var localforageSerializer={serialize:serialize,deserialize:deserialize,stringToBuffer:stringToBuffer,bufferToString:bufferToString};function createDbTable(t,dbInfo,callback,errorCallback){t.executeSql("CREATE TABLE IF NOT EXISTS "+dbInfo.storeName+" "+"(id INTEGER PRIMARY KEY, key unique, value)",[],callback,errorCallback)}function _initStorage$1(options){var self=this;var dbInfo={db:null};if(options)for(var i in options)dbInfo[i]="string"!==typeof options[i]?options[i].toString():options[i];var dbInfoPromise=new Promise$1(function(resolve,reject){try{dbInfo.db=openDatabase(dbInfo.name,String(dbInfo.version),dbInfo.description,dbInfo.size)}catch(e){return reject(e)}dbInfo.db.transaction(function(t){createDbTable(t,dbInfo,function(){self._dbInfo=dbInfo;resolve()},function(t,error){reject(error)})},reject)});dbInfo.serializer=localforageSerializer;return dbInfoPromise}function tryExecuteSql(t,dbInfo,sqlStatement,args,callback,errorCallback){t.executeSql(sqlStatement,args,callback,function(t,error){if(error.code===error.SYNTAX_ERR)t.executeSql("SELECT name FROM sqlite_master "+"WHERE type='table' AND name = ?",[dbInfo.storeName],function(t,results){if(!results.rows.length)createDbTable(t,dbInfo,function(){t.executeSql(sqlStatement,args,callback,errorCallback)},errorCallback);else errorCallback(t,error)},errorCallback);else errorCallback(t,error)},errorCallback)}function getItem$1(key,callback){var self=this;key=normalizeKey(key);var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){tryExecuteSql(t,dbInfo,"SELECT * FROM "+dbInfo.storeName+" WHERE key = ? LIMIT 1",[key],function(t,results){var result=results.rows.length?results.rows.item(0).value:null;if(result)result=dbInfo.serializer.deserialize(result);resolve(result)},function(t,error){reject(error)})})})["catch"](reject)});executeCallback(promise,callback);return promise}function iterate$1(iterator,callback){var self=this;var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){tryExecuteSql(t,dbInfo,"SELECT * FROM "+dbInfo.storeName,[],function(t,results){var rows=results.rows;var length=rows.length;for(var i=0;i<length;i++){var item=rows.item(i);var result=item.value;if(result)result=dbInfo.serializer.deserialize(result);result=iterator(result,item.key,i+1);if(void 0!==result){resolve(result);return}}resolve()},function(t,error){reject(error)})})})["catch"](reject)});executeCallback(promise,callback);return promise}function _setItem(key,value,callback,retriesLeft){var self=this;key=normalizeKey(key);var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){if(void 0===value)value=null;var originalValue=value;var dbInfo=self._dbInfo;dbInfo.serializer.serialize(value,function(value,error){if(error)reject(error);else dbInfo.db.transaction(function(t){tryExecuteSql(t,dbInfo,"INSERT OR REPLACE INTO "+dbInfo.storeName+" "+"(key, value) VALUES (?, ?)",[key,value],function(){resolve(originalValue)},function(t,error){reject(error)})},function(sqlError){if(sqlError.code===sqlError.QUOTA_ERR){if(retriesLeft>0){resolve(_setItem.apply(self,[key,originalValue,callback,retriesLeft-1]));return}reject(sqlError)}})})})["catch"](reject)});executeCallback(promise,callback);return promise}function setItem$1(key,value,callback){return _setItem.apply(this,[key,value,callback,1])}function removeItem$1(key,callback){var self=this;key=normalizeKey(key);var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){tryExecuteSql(t,dbInfo,"DELETE FROM "+dbInfo.storeName+" WHERE key = ?",[key],function(){resolve()},function(t,error){reject(error)})})})["catch"](reject)});executeCallback(promise,callback);return promise}function clear$1(callback){var self=this;var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){tryExecuteSql(t,dbInfo,"DELETE FROM "+dbInfo.storeName,[],function(){resolve()},function(t,error){reject(error)})})})["catch"](reject)});executeCallback(promise,callback);return promise}function length$1(callback){var self=this;var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){tryExecuteSql(t,dbInfo,"SELECT COUNT(key) as c FROM "+dbInfo.storeName,[],function(t,results){var result=results.rows.item(0).c;resolve(result)},function(t,error){reject(error)})})})["catch"](reject)});executeCallback(promise,callback);return promise}function key$1(n,callback){var self=this;var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){tryExecuteSql(t,dbInfo,"SELECT key FROM "+dbInfo.storeName+" WHERE id = ? LIMIT 1",[n+1],function(t,results){var result=results.rows.length?results.rows.item(0).key:null;resolve(result)},function(t,error){reject(error)})})})["catch"](reject)});executeCallback(promise,callback);return promise}function keys$1(callback){var self=this;var promise=new Promise$1(function(resolve,reject){self.ready().then(function(){var dbInfo=self._dbInfo;dbInfo.db.transaction(function(t){tryExecuteSql(t,dbInfo,"SELECT key FROM "+dbInfo.storeName,[],function(t,results){var keys=[];for(var i=0;i<results.rows.length;i++)keys.push(results.rows.item(i).key);resolve(keys)},function(t,error){reject(error)})})})["catch"](reject)});executeCallback(promise,callback);return promise}function getAllStoreNames(db){return new Promise$1(function(resolve,reject){db.transaction(function(t){t.executeSql("SELECT name FROM sqlite_master "+"WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(t,results){var storeNames=[];for(var i=0;i<results.rows.length;i++)storeNames.push(results.rows.item(i).name);resolve({db:db,storeNames:storeNames})},function(t,error){reject(error)})},function(sqlError){reject(sqlError)})})}function dropInstance$1(options,callback){callback=getCallback.apply(this,arguments);var currentConfig=this.config();options="function"!==typeof options&&options||{};if(!options.name){options.name=options.name||currentConfig.name;options.storeName=options.storeName||currentConfig.storeName}var self=this;var promise;if(!options.name)promise=Promise$1.reject("Invalid arguments");else promise=new Promise$1(function(resolve){var db;if(options.name===currentConfig.name)db=self._dbInfo.db;else db=openDatabase(options.name,"","",0);if(!options.storeName)resolve(getAllStoreNames(db));else resolve({db:db,storeNames:[options.storeName]})}).then(function(operationInfo){return new Promise$1(function(resolve,reject){operationInfo.db.transaction(function(t){function dropTable(storeName){return new Promise$1(function(resolve,reject){t.executeSql("DROP TABLE IF EXISTS "+storeName,[],function(){resolve()},function(t,error){reject(error)})})}var operations=[];for(var i=0,len=operationInfo.storeNames.length;i<len;i++)operations.push(dropTable(operationInfo.storeNames[i]));Promise$1.all(operations).then(function(){resolve()})["catch"](function(e){reject(e)})},function(sqlError){reject(sqlError)})})});executeCallback(promise,callback);return promise}var webSQLStorage={_driver:"webSQLStorage",_initStorage:_initStorage$1,_support:isWebSQLValid(),iterate:iterate$1,getItem:getItem$1,setItem:setItem$1,removeItem:removeItem$1,clear:clear$1,length:length$1,key:key$1,keys:keys$1,dropInstance:dropInstance$1};function isLocalStorageValid(){try{return"undefined"!==typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return false}}function _getKeyPrefix(options,defaultConfig){var keyPrefix=options.name+"/";if(options.storeName!==defaultConfig.storeName)keyPrefix+=options.storeName+"/";return keyPrefix}function checkIfLocalStorageThrows(){var localStorageTestKey="_localforage_support_test";try{localStorage.setItem(localStorageTestKey,true);localStorage.removeItem(localStorageTestKey);return false}catch(e){return true}}function _isLocalStorageUsable(){return!checkIfLocalStorageThrows()||localStorage.length>0}function _initStorage$2(options){var self=this;var dbInfo={};if(options)for(var i in options)dbInfo[i]=options[i];dbInfo.keyPrefix=_getKeyPrefix(options,self._defaultConfig);if(!_isLocalStorageUsable())return Promise$1.reject();self._dbInfo=dbInfo;dbInfo.serializer=localforageSerializer;return Promise$1.resolve()}function clear$2(callback){var self=this;var promise=self.ready().then(function(){var keyPrefix=self._dbInfo.keyPrefix;for(var i=localStorage.length-1;i>=0;i--){var key=localStorage.key(i);if(0===key.indexOf(keyPrefix))localStorage.removeItem(key)}});executeCallback(promise,callback);return promise}function getItem$2(key,callback){var self=this;key=normalizeKey(key);var promise=self.ready().then(function(){var dbInfo=self._dbInfo;var result=localStorage.getItem(dbInfo.keyPrefix+key);if(result)result=dbInfo.serializer.deserialize(result);return result});executeCallback(promise,callback);return promise}function iterate$2(iterator,callback){var self=this;var promise=self.ready().then(function(){var dbInfo=self._dbInfo;var keyPrefix=dbInfo.keyPrefix;var keyPrefixLength=keyPrefix.length;var length=localStorage.length;var iterationNumber=1;for(var i=0;i<length;i++){var key=localStorage.key(i);if(0!==key.indexOf(keyPrefix))continue;var value=localStorage.getItem(key);if(value)value=dbInfo.serializer.deserialize(value);value=iterator(value,key.substring(keyPrefixLength),iterationNumber++);if(void 0!==value)return value}});executeCallback(promise,callback);return promise}function key$2(n,callback){var self=this;var promise=self.ready().then(function(){var dbInfo=self._dbInfo;var result;try{result=localStorage.key(n)}catch(error){result=null}if(result)result=result.substring(dbInfo.keyPrefix.length);return result});executeCallback(promise,callback);return promise}function keys$2(callback){var self=this;var promise=self.ready().then(function(){var dbInfo=self._dbInfo;var length=localStorage.length;var keys=[];for(var i=0;i<length;i++){var itemKey=localStorage.key(i);if(0===itemKey.indexOf(dbInfo.keyPrefix))keys.push(itemKey.substring(dbInfo.keyPrefix.length))}return keys});executeCallback(promise,callback);return promise}function length$2(callback){var self=this;var promise=self.keys().then(function(keys){return keys.length});executeCallback(promise,callback);return promise}function removeItem$2(key,callback){var self=this;key=normalizeKey(key);var promise=self.ready().then(function(){var dbInfo=self._dbInfo;localStorage.removeItem(dbInfo.keyPrefix+key)});executeCallback(promise,callback);return promise}function setItem$2(key,value,callback){var self=this;key=normalizeKey(key);var promise=self.ready().then(function(){if(void 0===value)value=null;var originalValue=value;return new Promise$1(function(resolve,reject){var dbInfo=self._dbInfo;dbInfo.serializer.serialize(value,function(value,error){if(error)reject(error);else try{localStorage.setItem(dbInfo.keyPrefix+key,value);resolve(originalValue)}catch(e){if("QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)reject(e);reject(e)}})})});executeCallback(promise,callback);return promise}function dropInstance$2(options,callback){callback=getCallback.apply(this,arguments);options="function"!==typeof options&&options||{};if(!options.name){var currentConfig=this.config();options.name=options.name||currentConfig.name;options.storeName=options.storeName||currentConfig.storeName}var self=this;var promise;if(!options.name)promise=Promise$1.reject("Invalid arguments");else promise=new Promise$1(function(resolve){if(!options.storeName)resolve(options.name+"/");else resolve(_getKeyPrefix(options,self._defaultConfig))}).then(function(keyPrefix){for(var i=localStorage.length-1;i>=0;i--){var key=localStorage.key(i);if(0===key.indexOf(keyPrefix))localStorage.removeItem(key)}});executeCallback(promise,callback);return promise}var localStorageWrapper={_driver:"localStorageWrapper",_initStorage:_initStorage$2,_support:isLocalStorageValid(),iterate:iterate$2,getItem:getItem$2,setItem:setItem$2,removeItem:removeItem$2,clear:clear$2,length:length$2,key:key$2,keys:keys$2,dropInstance:dropInstance$2};var sameValue=function(x,y){return x===y||"number"===typeof x&&"number"===typeof y&&isNaN(x)&&isNaN(y)};var includes=function(array,searchElement){var len=array.length;var i=0;while(i<len){if(sameValue(array[i],searchElement))return true;i++}return false};var isArray=Array.isArray||function(arg){return"[object Array]"===Object.prototype.toString.call(arg)};var DefinedDrivers={};var DriverSupport={};var DefaultDrivers={INDEXEDDB:asyncStorage,WEBSQL:webSQLStorage,LOCALSTORAGE:localStorageWrapper};var DefaultDriverOrder=[DefaultDrivers.INDEXEDDB._driver,DefaultDrivers.WEBSQL._driver,DefaultDrivers.LOCALSTORAGE._driver];var OptionalDriverMethods=["dropInstance"];var LibraryMethods=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(OptionalDriverMethods);var DefaultConfig={description:"",driver:DefaultDriverOrder.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function callWhenReady(localForageInstance,libraryMethod){localForageInstance[libraryMethod]=function(){var _args=arguments;return localForageInstance.ready().then(function(){return localForageInstance[libraryMethod].apply(localForageInstance,_args)})}}function extend(){for(var i=1;i<arguments.length;i++){var arg=arguments[i];if(arg)for(var _key in arg)if(arg.hasOwnProperty(_key))if(isArray(arg[_key]))arguments[0][_key]=arg[_key].slice();else arguments[0][_key]=arg[_key]}return arguments[0]}var LocalForage=function(){function LocalForage(options){_classCallCheck(this,LocalForage);for(var driverTypeKey in DefaultDrivers)if(DefaultDrivers.hasOwnProperty(driverTypeKey)){var driver=DefaultDrivers[driverTypeKey];var driverName=driver._driver;this[driverTypeKey]=driverName;if(!DefinedDrivers[driverName])this.defineDriver(driver)}this._defaultConfig=extend({},DefaultConfig);this._config=extend({},this._defaultConfig,options);this._driverSet=null;this._initDriver=null;this._ready=false;this._dbInfo=null;this._wrapLibraryMethodsWithReady();this.setDriver(this._config.driver)["catch"](function(){})}LocalForage.prototype.config=function(options){if("object"===("undefined"===typeof options?"undefined":_typeof(options))){if(this._ready)return new Error("Can't call config() after localforage "+"has been used.");for(var i in options){if("storeName"===i)options[i]=options[i].replace(/\W/g,"_");if("version"===i&&"number"!==typeof options[i])return new Error("Database version must be a number.");this._config[i]=options[i]}if("driver"in options&&options.driver)return this.setDriver(this._config.driver);return true}else if("string"===typeof options)return this._config[options];else return this._config};LocalForage.prototype.defineDriver=function(driverObject,callback,errorCallback){var promise=new Promise$1(function(resolve,reject){try{var driverName=driverObject._driver;var complianceError=new Error("Custom driver not compliant; see "+"https://mozilla.github.io/localForage/#definedriver");if(!driverObject._driver){reject(complianceError);return}var driverMethods=LibraryMethods.concat("_initStorage");for(var i=0,len=driverMethods.length;i<len;i++){var driverMethodName=driverMethods[i];var isRequired=!includes(OptionalDriverMethods,driverMethodName);if((isRequired||driverObject[driverMethodName])&&"function"!==typeof driverObject[driverMethodName]){reject(complianceError);return}}var configureMissingMethods=function(){var methodNotImplementedFactory=function(methodName){return function(){var error=new Error("Method "+methodName+" is not implemented by the current driver");var promise=Promise$1.reject(error);executeCallback(promise,arguments[arguments.length-1]);return promise}};for(var _i=0,_len=OptionalDriverMethods.length;_i<_len;_i++){var optionalDriverMethod=OptionalDriverMethods[_i];if(!driverObject[optionalDriverMethod])driverObject[optionalDriverMethod]=methodNotImplementedFactory(optionalDriverMethod)}};configureMissingMethods();var setDriverSupport=function(support){if(DefinedDrivers[driverName])console.info("Redefining LocalForage driver: "+driverName);DefinedDrivers[driverName]=driverObject;DriverSupport[driverName]=support;resolve()};if("_support"in driverObject)if(driverObject._support&&"function"===typeof driverObject._support)driverObject._support().then(setDriverSupport,reject);else setDriverSupport(!!driverObject._support);else setDriverSupport(true)}catch(e){reject(e)}});executeTwoCallbacks(promise,callback,errorCallback);return promise};LocalForage.prototype.driver=function(){return this._driver||null};LocalForage.prototype.getDriver=function(driverName,callback,errorCallback){var getDriverPromise=DefinedDrivers[driverName]?Promise$1.resolve(DefinedDrivers[driverName]):Promise$1.reject(new Error("Driver not found."));executeTwoCallbacks(getDriverPromise,callback,errorCallback);return getDriverPromise};LocalForage.prototype.getSerializer=function(callback){var serializerPromise=Promise$1.resolve(localforageSerializer);executeTwoCallbacks(serializerPromise,callback);return serializerPromise};LocalForage.prototype.ready=function(callback){var self=this;var promise=self._driverSet.then(function(){if(null===self._ready)self._ready=self._initDriver();return self._ready});executeTwoCallbacks(promise,callback,callback);return promise};LocalForage.prototype.setDriver=function(drivers,callback,errorCallback){var self=this;if(!isArray(drivers))drivers=[drivers];var supportedDrivers=this._getSupportedDrivers(drivers);function setDriverToConfig(){self._config.driver=self.driver()}function extendSelfWithDriver(driver){self._extend(driver);setDriverToConfig();self._ready=self._initStorage(self._config);return self._ready}function initDriver(supportedDrivers){return function(){var currentDriverIndex=0;function driverPromiseLoop(){while(currentDriverIndex<supportedDrivers.length){var driverName=supportedDrivers[currentDriverIndex];currentDriverIndex++;self._dbInfo=null;self._ready=null;return self.getDriver(driverName).then(extendSelfWithDriver)["catch"](driverPromiseLoop)}setDriverToConfig();var error=new Error("No available storage method found.");self._driverSet=Promise$1.reject(error);return self._driverSet}return driverPromiseLoop()}}var oldDriverSetDone=null!==this._driverSet?this._driverSet["catch"](function(){return Promise$1.resolve()}):Promise$1.resolve();this._driverSet=oldDriverSetDone.then(function(){var driverName=supportedDrivers[0];self._dbInfo=null;self._ready=null;return self.getDriver(driverName).then(function(driver){self._driver=driver._driver;setDriverToConfig();self._wrapLibraryMethodsWithReady();self._initDriver=initDriver(supportedDrivers)})})["catch"](function(){setDriverToConfig();var error=new Error("No available storage method found.");self._driverSet=Promise$1.reject(error);return self._driverSet});executeTwoCallbacks(this._driverSet,callback,errorCallback);return this._driverSet};LocalForage.prototype.supports=function(driverName){return!!DriverSupport[driverName]};LocalForage.prototype._extend=function(libraryMethodsAndProperties){extend(this,libraryMethodsAndProperties)};LocalForage.prototype._getSupportedDrivers=function(drivers){var supportedDrivers=[];for(var i=0,len=drivers.length;i<len;i++){var driverName=drivers[i];if(this.supports(driverName))supportedDrivers.push(driverName)}return supportedDrivers};LocalForage.prototype._wrapLibraryMethodsWithReady=function(){for(var i=0,len=LibraryMethods.length;i<len;i++)callWhenReady(this,LibraryMethods[i])};LocalForage.prototype.createInstance=function(options){return new LocalForage(options)};return LocalForage}();var localforage_js=new LocalForage;module.exports=localforage_js},{3:3}]},{},[4])(4)})}).call(this,__webpack_require__(30))},function(module,exports,__webpack_require__){"use strict";(function(process){var utils=__webpack_require__(0);var normalizeHeaderName=__webpack_require__(15);var DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(headers,value){if(!utils.isUndefined(headers)&&utils.isUndefined(headers["Content-Type"]))headers["Content-Type"]=value}function getDefaultAdapter(){var adapter;if("undefined"!==typeof XMLHttpRequest)adapter=__webpack_require__(4);else if("undefined"!==typeof process)adapter=__webpack_require__(4);return adapter}var defaults={adapter:getDefaultAdapter(),transformRequest:[function(data,headers){normalizeHeaderName(headers,"Content-Type");if(utils.isFormData(data)||utils.isArrayBuffer(data)||utils.isBuffer(data)||utils.isStream(data)||utils.isFile(data)||utils.isBlob(data))return data;if(utils.isArrayBufferView(data))return data.buffer;if(utils.isURLSearchParams(data)){setContentTypeIfUnset(headers,"application/x-www-form-urlencoded;charset=utf-8");return data.toString()}if(utils.isObject(data)){setContentTypeIfUnset(headers,"application/json;charset=utf-8");return JSON.stringify(data)}return data}],transformResponse:[function(data){if("string"===typeof data)try{data=JSON.parse(data)}catch(e){}return data}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(status){return status>=200&&status<300}};defaults.headers={common:{Accept:"application/json, text/plain, */*"}};utils.forEach(["delete","get","head"],function(method){defaults.headers[method]={}});utils.forEach(["post","put","patch"],function(method){defaults.headers[method]=utils.merge(DEFAULT_CONTENT_TYPE)});module.exports=defaults}).call(this,__webpack_require__(14))},function(module){"use strict";module.exports=function(fn,thisArg){return function(){var args=new Array(arguments.length);for(var i=0;i<args.length;i++)args[i]=arguments[i];return fn.apply(thisArg,args)}}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0);var settle=__webpack_require__(16);var buildURL=__webpack_require__(18);var parseHeaders=__webpack_require__(19);var isURLSameOrigin=__webpack_require__(20);var createError=__webpack_require__(5);var btoa="undefined"!==typeof window&&window.btoa&&window.btoa.bind(window)||__webpack_require__(21);module.exports=function(config){return new Promise(function(resolve,reject){var requestData=config.data;var requestHeaders=config.headers;if(utils.isFormData(requestData))delete requestHeaders["Content-Type"];var request=new XMLHttpRequest;var loadEvent="onreadystatechange";var xDomain=false;if(true&&"undefined"!==typeof window&&window.XDomainRequest&&!("withCredentials"in request)&&!isURLSameOrigin(config.url)){request=new window.XDomainRequest;loadEvent="onload";xDomain=true;request.onprogress=function(){};request.ontimeout=function(){}}if(config.auth){var username=config.auth.username||"";var password=config.auth.password||"";requestHeaders.Authorization="Basic "+btoa(username+":"+password)}request.open(config.method.toUpperCase(),buildURL(config.url,config.params,config.paramsSerializer),true);request.timeout=config.timeout;request[loadEvent]=function(){if(!request||4!==request.readyState&&!xDomain)return;if(0===request.status&&!(request.responseURL&&0===request.responseURL.indexOf("file:")))return;var responseHeaders="getAllResponseHeaders"in request?parseHeaders(request.getAllResponseHeaders()):null;var responseData=!config.responseType||"text"===config.responseType?request.responseText:request.response;var response={data:responseData,status:1223===request.status?204:request.status,statusText:1223===request.status?"No Content":request.statusText,headers:responseHeaders,config:config,request:request};settle(resolve,reject,response);request=null};request.onerror=function(){reject(createError("Network Error",config,null,request));request=null};request.ontimeout=function(){reject(createError("timeout of "+config.timeout+"ms exceeded",config,"ECONNABORTED",request));request=null};if(utils.isStandardBrowserEnv()){var cookies=__webpack_require__(22);var xsrfValue=(config.withCredentials||isURLSameOrigin(config.url))&&config.xsrfCookieName?cookies.read(config.xsrfCookieName):void 0;if(xsrfValue)requestHeaders[config.xsrfHeaderName]=xsrfValue}if("setRequestHeader"in request)utils.forEach(requestHeaders,function(val,key){if("undefined"===typeof requestData&&"content-type"===key.toLowerCase())delete requestHeaders[key];else request.setRequestHeader(key,val)});if(config.withCredentials)request.withCredentials=true;if(config.responseType)try{request.responseType=config.responseType}catch(e){if("json"!==config.responseType)throw e}if("function"===typeof config.onDownloadProgress)request.addEventListener("progress",config.onDownloadProgress);if("function"===typeof config.onUploadProgress&&request.upload)request.upload.addEventListener("progress",config.onUploadProgress);if(config.cancelToken)config.cancelToken.promise.then(function(cancel){if(!request)return;request.abort();reject(cancel);request=null});if(void 0===requestData)requestData=null;request.send(requestData)})}},function(module,exports,__webpack_require__){"use strict";var enhanceError=__webpack_require__(17);module.exports=function(message,config,code,request,response){var error=new Error(message);return enhanceError(error,config,code,request,response)}},function(module){"use strict";module.exports=function(value){return!!(value&&value.__CANCEL__)}},function(module){"use strict";function Cancel(message){this.message=message}Cancel.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Cancel.prototype.__CANCEL__=true;module.exports=Cancel},function(module){module.exports=[["getBerryByName","berry"],["getBerryFirmnessByName","berry-firmness"],["getBerryFlavorByName","berry-flavor"],["getContestTypeByName","contest-type"],["getContestEffectById","contest-effect"],["getSuperContestEffectById","super-contest-effect"],["getEncounterMethodByName","encounter-method"],["getEncounterConditionByName","encounter-condition"],["getEncounterConditionValueByName","encounter-condition-value"],["getEvolutionChainById","evolution-chain"],["getEvolutionTriggerByName","evolution-trigger"],["getGenerationByName","generation"],["getPokedexByName","pokedex"],["getVersionByName","version"],["getVersionGroupByName","version-group"],["getItemByName","item"],["getItemAttributeByName","item-attribute"],["getItemCategoryByName","item-category"],["getItemFlingEffectByName","item-fling-effect"],["getItemPocketByName","item-pocket"],["getMachineById","machine"],["getMoveByName","move"],["getMoveAilmentByName","move-ailment"],["getMoveBattleStyleByName","move-battle-style"],["getMoveCategoryByName","move-category"],["getMoveDamageClassByName","move-damage-class"],["getMoveLearnMethodByName","move-learn-method"],["getMoveTargetByName","move-target"],["getLocationByName","location"],["getLocationAreaByName","location-area"],["getPalParkAreaByName","pal-park-area"],["getRegionByName","region"],["getAbilityByName","ability"],["getCharacteristicById","characteristic"],["getEggGroupByName","egg-group"],["getGenderByName","gender"],["getGrowthRateByName","growth-rate"],["getNatureByName","nature"],["getPokeathlonStatByName","pokeathlon-stat"],["getPokemonByName","pokemon"],["getPokemonColorByName","pokemon-color"],["getPokemonFormByName","pokemon-form"],["getPokemonHabitatByName","pokemon-habitat"],["getPokemonShapeByName","pokemon-shape"],["getPokemonSpeciesByName","pokemon-species"],["getStatByName","stat"],["getTypeByName","type"],["getLanguageByName","language"]]},function(module){module.exports=[["getEndpointsList",""],["getBerriesList","berry/"],["getBerriesFirmnesssList","berry-firmness/"],["getBerriesFlavorsList","berry-flavor/"],["getContestTypesList","contest-type/"],["getContestEffectsList","contest-effect/"],["getSuperContestEffectsList","super-contest-effect/"],["getEncounterMethodsList","encounter-method/"],["getEncounterConditionsList","encounter-condition/"],["getEncounterConditionValuesList","encounter-condition-value/"],["getEvolutionChainsList","evolution-chain/"],["getEvolutionTriggersList","evolution-trigger/"],["getGenerationsList","generation/"],["getPokedexsList","pokedex/"],["getVersionsList","version/"],["getVersionGroupsList","version-group/"],["getItemsList","item/"],["getItemAttributesList","item-attribute/"],["getItemCategoriesList","item-category/"],["getItemFlingEffectsList","item-fling-effect/"],["getItemPocketsList","item-pocket/"],["getMachinesList","machine/"],["getMovesList","move/"],["getMoveAilmentsList","move-ailment/"],["getMoveBattleStylesList","move-battle-style/"],["getMoveCategoriesList","move-category/"],["getMoveDamageClassesList","move-damage-class/"],["getMoveLearnMethodsList","move-learn-method/"],["getMoveTargetsList","move-target/"],["getLocationsList","location/"],["getLocationAreasList","location-area/"],["getPalParkAreasList","pal-park-area/"],["getRegionsList","region/"],["getAbilitiesList","ability/"],["getCharacteristicsList","characteristic/"],["getEggGroupsList","egg-group/"],["getGendersList","gender/"],["getGrowthRatesList","growth-rate/"],["getNaturesList","nature/"],["getPokeathlonStatsList","pokeathlon-stat/"],["getPokemonsList","pokemon/"],["getPokemonColorsList","pokemon-color/"],["getPokemonFormsList","pokemon-form/"],["getPokemonHabitatsList","pokemon-habitat/"],["getPokemonShapesList","pokemon-shape/"],["getPokemonSpeciesList","pokemon-species/"],["getStatsList","stat/"],["getTypesList","type/"],["getLanguagesList","language/"]]},function(module,exports,__webpack_require__){module.exports=__webpack_require__(11)},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0);var bind=__webpack_require__(3);var Axios=__webpack_require__(13);var defaults=__webpack_require__(2);function createInstance(defaultConfig){var context=new Axios(defaultConfig);var instance=bind(Axios.prototype.request,context);utils.extend(instance,Axios.prototype,context);utils.extend(instance,context);return instance}var axios=createInstance(defaults);axios.Axios=Axios;axios.create=function(instanceConfig){return createInstance(utils.merge(defaults,instanceConfig))};axios.Cancel=__webpack_require__(7);axios.CancelToken=__webpack_require__(28);axios.isCancel=__webpack_require__(6);axios.all=function(promises){return Promise.all(promises)};axios.spread=__webpack_require__(29);module.exports=axios;module.exports.default=axios},function(module){module.exports=function(obj){return null!=obj&&(isBuffer(obj)||isSlowBuffer(obj)||!!obj._isBuffer)};function isBuffer(obj){return!!obj.constructor&&"function"===typeof obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)}function isSlowBuffer(obj){return"function"===typeof obj.readFloatLE&&"function"===typeof obj.slice&&isBuffer(obj.slice(0,0))}},function(module,exports,__webpack_require__){"use strict";var defaults=__webpack_require__(2);var utils=__webpack_require__(0);var InterceptorManager=__webpack_require__(23);var dispatchRequest=__webpack_require__(24);function Axios(instanceConfig){this.defaults=instanceConfig;this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios.prototype.request=function(config){if("string"===typeof config)config=utils.merge({url:arguments[0]},arguments[1]);config=utils.merge(defaults,this.defaults,{method:"get"},config);config.method=config.method.toLowerCase();var chain=[dispatchRequest,void 0];var promise=Promise.resolve(config);this.interceptors.request.forEach(function(interceptor){chain.unshift(interceptor.fulfilled,interceptor.rejected)});this.interceptors.response.forEach(function(interceptor){chain.push(interceptor.fulfilled,interceptor.rejected)});while(chain.length)promise=promise.then(chain.shift(),chain.shift());return promise};utils.forEach(["delete","get","head","options"],function(method){Axios.prototype[method]=function(url,config){return this.request(utils.merge(config||{},{method:method,url:url}))}});utils.forEach(["post","put","patch"],function(method){Axios.prototype[method]=function(url,data,config){return this.request(utils.merge(config||{},{method:method,url:url,data:data}))}});module.exports=Axios},function(module){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if("function"===typeof setTimeout)cachedSetTimeout=setTimeout;else cachedSetTimeout=defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{if("function"===typeof clearTimeout)cachedClearTimeout=clearTimeout;else cachedClearTimeout=defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue)return;draining=false;if(currentQueue.length)queue=currentQueue.concat(queue);else queueIndex=-1;if(queue.length)drainQueue()}function drainQueue(){if(draining)return;var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len)if(currentQueue)currentQueue[queueIndex].run();queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args));if(1===queue.length&&!draining)runTimeout(drainQueue)};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(){return[]};process.binding=function(){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0);module.exports=function(headers,normalizedName){utils.forEach(headers,function(value,name){if(name!==normalizedName&&name.toUpperCase()===normalizedName.toUpperCase()){headers[normalizedName]=value;delete headers[name]}})}},function(module,exports,__webpack_require__){"use strict";var createError=__webpack_require__(5);module.exports=function(resolve,reject,response){var validateStatus=response.config.validateStatus;if(!response.status||!validateStatus||validateStatus(response.status))resolve(response);else reject(createError("Request failed with status code "+response.status,response.config,null,response.request,response))}},function(module){"use strict";module.exports=function(error,config,code,request,response){error.config=config;if(code)error.code=code;error.request=request;error.response=response;return error}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0);function encode(val){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}module.exports=function(url,params,paramsSerializer){if(!params)return url;var serializedParams;if(paramsSerializer)serializedParams=paramsSerializer(params);else if(utils.isURLSearchParams(params))serializedParams=params.toString();else{var parts=[];utils.forEach(params,function(val,key){if(null===val||"undefined"===typeof val)return;if(utils.isArray(val))key+="[]";if(!utils.isArray(val))val=[val];utils.forEach(val,function(v){if(utils.isDate(v))v=v.toISOString();else if(utils.isObject(v))v=JSON.stringify(v);parts.push(encode(key)+"="+encode(v))})});serializedParams=parts.join("&")}if(serializedParams)url+=(-1===url.indexOf("?")?"?":"&")+serializedParams;return url}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0);var ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];module.exports=function(headers){var parsed={};var key;var val;var i;if(!headers)return parsed;utils.forEach(headers.split("\n"),function(line){i=line.indexOf(":");key=utils.trim(line.substr(0,i)).toLowerCase();val=utils.trim(line.substr(i+1));if(key){if(parsed[key]&&ignoreDuplicateOf.indexOf(key)>=0)return;if("set-cookie"===key)parsed[key]=(parsed[key]?parsed[key]:[]).concat([val]);else parsed[key]=parsed[key]?parsed[key]+", "+val:val}});return parsed}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0);module.exports=utils.isStandardBrowserEnv()?function(){var msie=/(msie|trident)/i.test(navigator.userAgent);var urlParsingNode=document.createElement("a");var originURL;function resolveURL(url){var href=url;if(msie){urlParsingNode.setAttribute("href",href);href=urlParsingNode.href}urlParsingNode.setAttribute("href",href);return{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}originURL=resolveURL(window.location.href);return function(requestURL){var parsed=utils.isString(requestURL)?resolveURL(requestURL):requestURL;return parsed.protocol===originURL.protocol&&parsed.host===originURL.host}}():function(){return function(){return true}}()},function(module){"use strict";var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function E(){this.message="String contains an invalid character"}E.prototype=new Error;E.prototype.code=5;E.prototype.name="InvalidCharacterError";function btoa(input){var str=String(input);var output="";for(var block,charCode,idx=0,map=chars;str.charAt(0|idx)||(map="=",idx%1);output+=map.charAt(63&block>>8-idx%1*8)){charCode=str.charCodeAt(idx+=3/4);if(charCode>255)throw new E;block=block<<8|charCode}return output}module.exports=btoa},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0);module.exports=utils.isStandardBrowserEnv()?function(){return{write:function(name,value,expires,path,domain,secure){var cookie=[];cookie.push(name+"="+encodeURIComponent(value));if(utils.isNumber(expires))cookie.push("expires="+new Date(expires).toGMTString());if(utils.isString(path))cookie.push("path="+path);if(utils.isString(domain))cookie.push("domain="+domain);if(true===secure)cookie.push("secure");document.cookie=cookie.join("; ")},read:function(name){var match=document.cookie.match(new RegExp("(^|;\\s*)("+name+")=([^;]*)"));return match?decodeURIComponent(match[3]):null},remove:function(name){this.write(name,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0);function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function(fulfilled,rejected){this.handlers.push({fulfilled:fulfilled,rejected:rejected});return this.handlers.length-1};InterceptorManager.prototype.eject=function(id){if(this.handlers[id])this.handlers[id]=null};InterceptorManager.prototype.forEach=function(fn){utils.forEach(this.handlers,function(h){if(null!==h)fn(h)})};module.exports=InterceptorManager},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0);var transformData=__webpack_require__(25);var isCancel=__webpack_require__(6);var defaults=__webpack_require__(2);var isAbsoluteURL=__webpack_require__(26);var combineURLs=__webpack_require__(27);function throwIfCancellationRequested(config){if(config.cancelToken)config.cancelToken.throwIfRequested()}module.exports=function(config){throwIfCancellationRequested(config);if(config.baseURL&&!isAbsoluteURL(config.url))config.url=combineURLs(config.baseURL,config.url);config.headers=config.headers||{};config.data=transformData(config.data,config.headers,config.transformRequest);config.headers=utils.merge(config.headers.common||{},config.headers[config.method]||{},config.headers||{});utils.forEach(["delete","get","head","post","put","patch","common"],function(method){delete config.headers[method]});var adapter=config.adapter||defaults.adapter;return adapter(config).then(function(response){throwIfCancellationRequested(config);response.data=transformData(response.data,response.headers,config.transformResponse);return response},function(reason){if(!isCancel(reason)){throwIfCancellationRequested(config);if(reason&&reason.response)reason.response.data=transformData(reason.response.data,reason.response.headers,config.transformResponse)}return Promise.reject(reason)})}},function(module,exports,__webpack_require__){"use strict";var utils=__webpack_require__(0);module.exports=function(data,headers,fns){utils.forEach(fns,function(fn){data=fn(data,headers)});return data}},function(module){"use strict";module.exports=function(url){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(url)}},function(module){"use strict";module.exports=function(baseURL,relativeURL){return relativeURL?baseURL.replace(/\/+$/,"")+"/"+relativeURL.replace(/^\/+/,""):baseURL}},function(module,exports,__webpack_require__){"use strict";var Cancel=__webpack_require__(7);function CancelToken(executor){if("function"!==typeof executor)throw new TypeError("executor must be a function.");var resolvePromise;this.promise=new Promise(function(resolve){resolvePromise=resolve});var token=this;executor(function(message){if(token.reason)return;token.reason=new Cancel(message);resolvePromise(token.reason)})}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};CancelToken.source=function(){var cancel;var token=new CancelToken(function(c){cancel=c});return{token:token,cancel:cancel}};module.exports=CancelToken},function(module){"use strict";module.exports=function(callback){return function(arr){return callback.apply(null,arr)}}},function(module){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(e){if("object"===typeof window)g=window}module.exports=g},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);function shuffle(arr){let num=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;var j,x,i;for(i=0;i<num;i++){j=Math.floor(Math.random()*(arr.length-1-i))+i;x=arr[i];arr[i]=arr[j];arr[j]=x}return arr}function createNodeWithClasses(nodeType,classArr){let node=document.createElement(nodeType);if(classArr)classArr.forEach(className=>{node.classList.add(className)});return node}function generateRandomIndex(maxCount){return Math.floor(Math.random()*maxCount)}const MonsterDom={setNameNode:function(monster,node){let name=document.createTextNode(monster.name);let nameNode=createNodeWithClasses("h3",["poke-name"]);nameNode.appendChild(name);node.appendChild(nameNode)},setTypeNode:function(pokemonType,node){let typeName=document.createTextNode(pokemonType.name);let pokeTypeNode=createNodeWithClasses("h3",[pokemonType.name,"poke-type"]);pokeTypeNode.appendChild(typeName);node.appendChild(pokeTypeNode)},setImageNode:function(imgSrc,node){node.style.backgroundImage="url("+imgSrc+")"},setMoveNode:function(move,node){let moveName=document.createTextNode(move.name);let moveType=document.createTextNode(move.type);let moveNameNode=createNodeWithClasses("div",["move-name"]);let moveTypeNode=createNodeWithClasses("div",["move-type",move.type]);let moveNametextNode=createNodeWithClasses("h3");let moveTypetextNode=createNodeWithClasses("h3");moveNametextNode.appendChild(moveName);moveTypetextNode.appendChild(moveType);moveNameNode.appendChild(moveNametextNode);moveTypeNode.appendChild(moveTypetextNode);node.appendChild(moveNameNode);node.appendChild(moveTypeNode)},setMoveNodes:function(moveArray,node){for(let i=0;i<moveArray.length;i++)if(void 0!==moveArray[i])this.setMoveNode(moveArray[i],node);else this.setMoveNode({name:"",type:"-"},node)},setTypeNodes:function(pokemon,node){pokemon.types.forEach(type=>{this.setTypeNode(type,node)})}};class Monster{constructor(id,name,types,imgSrc,learnableMoves,movePool){this.id=id;this.name=name;this.types=types;this.img=imgSrc;this.learnableMoves=learnableMoves;this.movePool=movePool;this.MAX_MOVES=4}getMovePool(){return this.movePool}addToMovePool(move){if(this.movePool.length>=this.MAX_MOVES)throw new Error("Move slots full");else if(this.movePool.some(move=>move["id"]===move.id))throw new Error("you know this move");else this.movePool.push(move)}setMovePool(movePool){this.movePool=movePool}getWeaknesses(){let typeArr=[];this.types.forEach(type=>{type.getWeaknesses().forEach(weakness=>{typeArr.push(weakness)})});return typeArr}getStrengths(){let typeArr=[];this.types.forEach(type=>{type.getStrengths().forEach(strengths=>{typeArr.push(strengths)})});console.log(typeArr);return typeArr}}const TypeMap={fire:{weakness:[{id:2,name:"water"},{id:3,name:"ice"}],strengths:[{id:4,name:"grass"},{id:5,name:"bug"}]},water:{weakness:[{id:4,name:"grass"},{id:5,name:"bug"}],strengths:[{id:1,name:"fire"},{id:6,name:"poison"}]}};class type_Type{constructor(slot,name){this.slot=slot;this.name=name}getName(){return this.name}getWeaknesses(){return TypeMap[this.name].weakness}getStrengths(){return TypeMap[this.name].strengths}}const TypeBuilder={buildType:function(object){try{return new type_Type(object.slot,object.type.name)}catch(e){console.log("bad type build")}}};class Move{constructor(name,type){this.name=name;this.type=type}getName(){return this.name}getType(){return this.type}}const MoveBuilder={buildMove:function(object){try{return new Move(object.name,object.type.name)}catch(e){console.log("bad move build")}}};const NameMap={"thundurus-incarnate":"thundurus","shaymin-land":"shaymin","tornadus-incarnate":"tornadus"};const NameResolver={pokemonName:function(name){if(NameMap[name])return NameMap[name];return name},pokemonImg:function(name){let imgName=name.replace(/-/g,"_");return"https://www.smogon.com/dex/media/sprites/xy/"+imgName.toLocaleLowerCase()+".gif"}};const MonsterBuilder={buildMonster:function(object){try{return new Monster(object.id,buildName(object.name),buildTypes(object.types),buildImgSrc(buildName(object.name)),object.moves,object.movesPool)}catch(e){console.log("bad monster build")}},generateMonsters:function(){let num=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(num>1){let monsterArr=[];for(let i=0;i<num;i++)monsterArr.push(MonsterLocator.findRandomMonster());return monsterArr}else return MonsterLocator.findRandomMonster()},generateMoves:function(_generateMoves){function generateMoves(){return _generateMoves.apply(this,arguments)}generateMoves.toString=function(){return _generateMoves.toString()};return generateMoves}(function(monsterArr){if(Array.isArray(monster))monsterArr.forEach(monster=>{generateMoves(monster)});else monster.setMovePool(MoveLocator.findRandomMoveSet(4,monster.learnableMoveIds))})};function buildName(name){return NameResolver.pokemonName(name)}function buildTypes(arr){var typeArray=[];arr.forEach(type=>{typeArray.push(TypeBuilder.buildType(type))});return typeArray}function buildImgSrc(name){return NameResolver.pokemonImg(name)}class monsterLocators_MonsterLocator{constructor(api){this.pokemonApi=api;this.pokemonCount=null}api(){return this.pokemonApi}getPokemonCount(){return new Promise(resolve=>{if(!Number.isInteger(this.pokemonCount))this.pokemonApi.getPokemonSpeciesList({limit:1,offset:0}).then(response=>{this.pokemonCount=response.count;resolve(response.count)});else{console.log("cached");resolve(this.pokemonCount)}})}locateRandomPokemon(){return new Promise(resolve=>{this.getPokemonCount().then(res=>{this.findMonsterByIndex(generateRandomIndex(res)).then(res=>{var monster=MonsterBuilder.buildMonster(res);resolve(monster)})})})}findMonsterByIndex(index){return new Promise(resolve=>{if(index<this.pokemonCount&&index>=0)this.pokemonApi.getPokemonByName(index).then(res=>{resolve(res)});else throw new Error("bad Index")})}}class moveLocator_MoveLocator{constructor(api){this.options={protocol:"https",versionPath:"/api/v2/",cache:true,timeout:5*1e3};this.pokemonApi=api}findMove(id){return new Promise(resolve=>{this.pokemonApi.getMoveByName(id).then(response=>{resolve(MoveBuilder.buildMove(response))})})}locateRandomMoveSet(numOfMoves,moveList){var newList=[];return new Promise(resolve=>{if(moveList.length<=4){for(let i=0;i<moveList.length;i++)if(void 0!==moveList[i])newList[i]=this.findMove(moveList[i].move.name);resolve(newList)}else{newList=shuffle(moveList,numOfMoves).slice(0,numOfMoves);for(let i=0;i<newList.length;i++)newList[i]=this.findMove(moveList[i].move.name);resolve(newList)}})}}function shapeshiftInit(){$(".grid").shapeshift({align:"left",gutterX:0,gutterY:10,paddingX:0,handle:false});shapeshiftClearFix();function shapeshiftClearFix(){$(".clear-fix").removeClass("ss-active-child")}}(function(){(function($,window,document){var Plugin,defaults,pluginName;pluginName="shapeshift";defaults={selector:"*",enableDrag:true,enableCrossDrop:true,enableResize:true,enableTrash:false,align:"center",colWidth:null,columns:null,minColumns:1,autoHeight:true,maxHeight:null,minHeight:100,gutterX:10,gutterY:10,paddingX:10,paddingY:10,animated:true,animateOnInit:false,animationSpeed:225,animationThreshold:100,dragClone:false,deleteClone:true,dragRate:100,dragWhitelist:"*",crossDropWhitelist:"*",cutoffStart:null,cutoffEnd:null,handle:false,cloneClass:"ss-cloned-child",activeClass:"ss-active-child",draggedClass:"ss-dragged-child",placeholderClass:"ss-placeholder-child",originalContainerClass:"ss-original-container",currentContainerClass:"ss-current-container",previousContainerClass:"ss-previous-container"};Plugin=function(){function Plugin(element,options){this.element=element;this.options=$.extend({},defaults,options);this.globals={};this.$container=$(element);if(this.errorCheck())this.init()}Plugin.prototype.errorCheck=function(){var $children,error_msg,errors,options;options=this.options;errors=false;error_msg="Shapeshift ERROR:";if(null===options.colWidth){$children=this.$container.children(options.selector);if(0===$children.length){errors=true;console.error(error_msg+" option colWidth must be specified if Shapeshift is initialized with no active children.")}}return!errors};Plugin.prototype.init=function(){this.createEvents();this.setGlobals();this.setIdentifier();this.setActiveChildren();this.enableFeatures();this.gridInit();this.render();return this.afterInit()};Plugin.prototype.createEvents=function(){var $container,_this=this;this.options;$container=this.$container;$container.off("ss-arrange").on("ss-arrange",function(e,trigger_drop_finished){if(null==trigger_drop_finished)trigger_drop_finished=false;return _this.render(false,trigger_drop_finished)});$container.off("ss-rearrange").on("ss-rearrange",function(){return _this.render(true)});$container.off("ss-setTargetPosition").on("ss-setTargetPosition",function(){return _this.setTargetPosition()});$container.off("ss-destroy").on("ss-destroy",function(){return _this.destroy()});return $container.off("ss-shuffle").on("ss-shuffle",function(){return _this.shuffle()})};Plugin.prototype.setGlobals=function(){this.globals.animated=this.options.animateOnInit;return this.globals.dragging=false};Plugin.prototype.afterInit=function(){return this.globals.animated=this.options.animated};Plugin.prototype.setIdentifier=function(){this.identifier="shapeshifted_container_"+Math.random().toString(36).substring(7);return this.$container.addClass(this.identifier)};Plugin.prototype.enableFeatures=function(){if(this.options.enableResize)this.enableResize();if(this.options.enableDrag||this.options.enableCrossDrop)return this.enableDragNDrop()};Plugin.prototype.setActiveChildren=function(){var $children,active_child_class,colspan,columns,i,min_columns,options,total,_i,_j,_ref,_results;options=this.options;$children=this.$container.children(options.selector);active_child_class=options.activeClass;total=$children.length;for(i=_i=0;0<=total?_i<total:_i>total;i=0<=total?++_i:--_i)$($children[i]).addClass(active_child_class);this.setParsedChildren();columns=options.columns;_results=[];for(i=_j=0,_ref=this.parsedChildren.length;0<=_ref?_j<_ref:_j>_ref;i=0<=_ref?++_j:--_j){colspan=this.parsedChildren[i].colspan;min_columns=options.minColumns;if(colspan>columns&&colspan>min_columns){options.minColumns=colspan;_results.push(console.error("Shapeshift ERROR: There are child elements that have a larger colspan than the minimum columns set through options.\noptions.minColumns has been set to "+colspan))}else _results.push(void 0)}return _results};Plugin.prototype.setParsedChildren=function(){var $child,$children,child,i,parsedChildren,total,_i;$children=this.$container.find("."+this.options.activeClass).filter(":visible");total=$children.length;parsedChildren=[];for(i=_i=0;0<=total?_i<total:_i>total;i=0<=total?++_i:--_i){$child=$($children[i]);child={i:i,el:$child,colspan:parseInt($child.attr("data-ss-colspan"))||1,height:$child.outerHeight()};parsedChildren.push(child)}return this.parsedChildren=parsedChildren};Plugin.prototype.gridInit=function(){var fc_colspan,fc_width,first_child,gutter_x,single_width;gutter_x=this.options.gutterX;if(!(this.options.colWidth>=1)){first_child=this.parsedChildren[0];fc_width=first_child.el.outerWidth();fc_colspan=first_child.colspan;single_width=(fc_width-(fc_colspan-1)*gutter_x)/fc_colspan;return this.globals.col_width=single_width+gutter_x}else return this.globals.col_width=this.options.colWidth+gutter_x};Plugin.prototype.render=function(reparse,trigger_drop_finished){if(null==reparse)reparse=false;if(reparse)this.setActiveChildren();this.setGridColumns();return this.arrange(false,trigger_drop_finished)};Plugin.prototype.setGridColumns=function(){var actual_columns,children_count,col_width,colspan,columns,globals,grid_width,gutter_x,i,inner_width,minColumns,options,padding_x,_i,_ref;globals=this.globals;options=this.options;col_width=globals.col_width;gutter_x=options.gutterX;padding_x=options.paddingX;inner_width=this.$container.innerWidth()-2*padding_x;minColumns=options.minColumns;columns=options.columns||Math.floor((inner_width+gutter_x)/col_width);if(minColumns&&minColumns>columns)columns=minColumns;globals.columns=columns;children_count=this.parsedChildren.length;if(columns>children_count){actual_columns=0;for(i=_i=0,_ref=this.parsedChildren.length;0<=_ref?_i<_ref:_i>_ref;i=0<=_ref?++_i:--_i){colspan=this.parsedChildren[i].colspan;if(colspan+actual_columns<=columns)actual_columns+=colspan}columns=actual_columns}globals.child_offset=padding_x;switch(options.align){case"center":grid_width=columns*col_width-gutter_x;return globals.child_offset+=(inner_width-grid_width)/2;case"right":grid_width=columns*col_width-gutter_x;return globals.child_offset+=inner_width-grid_width}};Plugin.prototype.arrange=function(reparse,trigger_drop_finished){var $child,$container,animated,animation_speed,attributes,child_positions,container_height,dragged_class,globals,i,is_dragged_child,max_height,min_height,options,parsed_children,placeholder_class,total_children,_i;if(reparse)this.setParsedChildren();globals=this.globals;options=this.options;$container=this.$container;child_positions=this.getPositions();parsed_children=this.parsedChildren;total_children=parsed_children.length;animated=globals.animated&&total_children<=options.animationThreshold;animation_speed=options.animationSpeed;dragged_class=options.draggedClass;for(i=_i=0;0<=total_children?_i<total_children:_i>total_children;i=0<=total_children?++_i:--_i){$child=parsed_children[i].el;attributes=child_positions[i];is_dragged_child=$child.hasClass(dragged_class);if(is_dragged_child){placeholder_class=options.placeholderClass;$child=$child.siblings("."+placeholder_class)}if(animated&&!is_dragged_child)$child.stop(true,false).animate(attributes,animation_speed,function(){});else $child.css(attributes)}if(trigger_drop_finished)if(animated)setTimeout(function(){return $container.trigger("ss-drop-complete")},animation_speed);else $container.trigger("ss-drop-complete");$container.trigger("ss-arranged");if(options.autoHeight){container_height=globals.container_height;max_height=options.maxHeight;min_height=options.minHeight;if(min_height&&container_height<min_height)container_height=min_height;else if(max_height&&container_height>max_height)container_height=max_height;return $container.height(container_height)}};Plugin.prototype.getPositions=function(include_dragged){var col_heights,determineMultiposition,dragged_class,globals,grid_height,gutter_y,i,options,padding_y,parsed_children,positions,recalculateSavedChildren,savePosition,saved_children,total_children,_i,_ref,_this=this;if(null==include_dragged)include_dragged=true;globals=this.globals;options=this.options;gutter_y=options.gutterY;padding_y=options.paddingY;dragged_class=options.draggedClass;parsed_children=this.parsedChildren;total_children=parsed_children.length;col_heights=[];for(i=_i=0,_ref=globals.columns;0<=_ref?_i<_ref:_i>_ref;i=0<=_ref?++_i:--_i)col_heights.push(padding_y);savePosition=function(child){var col,colspan,j,offset_x,offset_y,_j,_results;col=child.col;colspan=child.colspan;offset_x=child.col*globals.col_width+globals.child_offset;offset_y=col_heights[col];positions[child.i]={left:offset_x,top:offset_y};col_heights[col]+=child.height+gutter_y;if(colspan>=1){_results=[];for(j=_j=1;1<=colspan?_j<colspan:_j>colspan;j=1<=colspan+100?++_j:--_j)_results.push(col_heights[col+j]=col_heights[col]);return _results}};determineMultiposition=function(child){var chosen_col,col,colspan,height,kosher,next_height,offset,possible_col_heights,possible_cols,span,_j,_k;possible_cols=col_heights.length-child.colspan+1;possible_col_heights=col_heights.slice(0).splice(0,possible_cols);chosen_col=void 0;for(offset=_j=0;0<=possible_cols?_j<possible_cols:_j>possible_cols;offset=0<=possible_cols?++_j:--_j){col=_this.lowestCol(possible_col_heights,offset);colspan=child.colspan;height=col_heights[col];kosher=true;for(span=_k=1;1<=colspan?_k<colspan:_k>colspan;span=1<=colspan?++_k:--_k){next_height=col_heights[col+span];if(height<next_height){kosher=false;break}}if(kosher){chosen_col=col;break}}return chosen_col};saved_children=[];recalculateSavedChildren=function(){var index,pop_i,saved_child,saved_i,to_pop,_j,_k,_ref1,_results;to_pop=[];for(saved_i=_j=0,_ref1=saved_children.length;0<=_ref1?_j<_ref1:_j>_ref1;saved_i=0<=_ref1?++_j:--_j){saved_child=saved_children[saved_i];saved_child.col=determineMultiposition(saved_child);if(saved_child.col>=0){savePosition(saved_child);to_pop.push(saved_i)}}_results=[];for(pop_i=_k=to_pop.length-1;_k>=0;pop_i=_k+=-1){index=to_pop[pop_i];_results.push(saved_children.splice(index,1))}return _results};positions=[];(function(){var child,_j,_results;_results=[];for(i=_j=0;0<=total_children?_j<total_children:_j>total_children;i=0<=total_children?++_j:--_j){child=parsed_children[i];if(!(!include_dragged&&child.el.hasClass(dragged_class))){if(child.colspan>1)child.col=determineMultiposition(child);else child.col=_this.lowestCol(col_heights);if(void 0===child.col)saved_children.push(child);else savePosition(child);_results.push(recalculateSavedChildren())}else _results.push(void 0)}return _results})();if(options.autoHeight){grid_height=col_heights[this.highestCol(col_heights)]-gutter_y;globals.container_height=grid_height+padding_y}return positions};Plugin.prototype.enableDragNDrop=function(){var x=null;var y=null;var startx=null;var starty=null;document.addEventListener("mousedown",onClick,false);function onClick(e){document.addEventListener("mousemove",onMouseUpdate,false);startx=e.pageX;starty=e.pageY;console.log(startx)}function onMouseUpdate(e){x=e.pageX;y=e.pageY;console.log(x,y)}function getMouseStartX(){return startx}function getMouseStartY(){return starty}function getMouseX(){return x}function getMouseY(){return y}var $clone,$container,$placeholder,$selected,active_class,clone_class,current_container_class,delete_clone,drag_clone,drag_rate,drag_timeout,dragged_class,options,original_container_class,placeholder_class,previous_container_class,selected_offset_x,selected_offset_y,_this=this;options=this.options;$container=this.$container;active_class=options.activeClass;dragged_class=options.draggedClass;placeholder_class=options.placeholderClass;original_container_class=options.originalContainerClass;current_container_class=options.currentContainerClass;previous_container_class=options.previousContainerClass;delete_clone=options.deleteClone;drag_rate=options.dragRate;drag_clone=options.dragClone;clone_class=options.cloneClass;$selected=$placeholder=$clone=selected_offset_y=selected_offset_x=null;drag_timeout=false;if(options.enableDrag)$container.children("."+active_class).filter(options.dragWhitelist).draggable({addClasses:false,containment:"document",handle:options.handle,zIndex:9999,start:function(e){var selected_tag;_this.globals.dragging=true;$selected=$(e.target);if(drag_clone)$clone=$selected.clone(false,false).insertBefore($selected).addClass(clone_class);$selected.addClass(dragged_class);selected_tag=$selected.prop("tagName");$placeholder=$("<"+selected_tag+" class='"+placeholder_class+"' style='height: "+$selected.height()+"px; width: "+$selected.width()+"px'></"+selected_tag+">");$selected.parent().addClass(original_container_class).addClass(current_container_class);console.log($selected.context.offsetLeft);selected_offset_y=$selected.context.offsetTop;return selected_offset_x=$selected.context.offsetLeft},drag:function(e,ui){if(!drag_timeout&&!(drag_clone&&delete_clone&&$("."+current_container_class)[0]===$("."+original_container_class)[0])){$placeholder.remove().appendTo("."+current_container_class);$("."+current_container_class).trigger("ss-setTargetPosition");drag_timeout=true;window.setTimeout(function(){return drag_timeout=false},drag_rate)}ui.position.left=getMouseX()-getMouseStartX()+selected_offset_x;return ui.position.top=getMouseY()-getMouseStartY()+selected_offset_y},stop:function(){var $current_container,$original_container,$previous_container;_this.globals.dragging=false;$original_container=$("."+original_container_class);$current_container=$("."+current_container_class);$previous_container=$("."+previous_container_class);$selected.removeClass(dragged_class);$("."+placeholder_class).remove();if(drag_clone)if(delete_clone&&$("."+current_container_class)[0]===$("."+original_container_class)[0]){$clone.remove();$("."+current_container_class).trigger("ss-rearrange")}else{$clone.removeClass(clone_class);$original_container.shapeshift($original_container.data("plugin_shapeshift").options);$current_container.shapeshift($current_container.data("plugin_shapeshift").options)}if($original_container[0]===$current_container[0])$current_container.trigger("ss-rearranged",$selected);else{$original_container.trigger("ss-removed",$selected);$current_container.trigger("ss-added",$selected)}$original_container.trigger("ss-arrange").removeClass(original_container_class);$current_container.trigger("ss-arrange",true).removeClass(current_container_class);$previous_container.trigger("ss-arrange").removeClass(previous_container_class);return $selected=$placeholder=null}});if(options.enableCrossDrop)return $container.droppable({accept:options.crossDropWhitelist,tolerance:"intersect",over:function(e){$("."+previous_container_class).removeClass(previous_container_class);$("."+current_container_class).removeClass(current_container_class).addClass(previous_container_class);return $(e.target).addClass(current_container_class)},drop:function(e,selected){var $current_container,$original_container,$previous_container;if(_this.options.enableTrash){$original_container=$("."+original_container_class);$current_container=$("."+current_container_class);$previous_container=$("."+previous_container_class);$selected=$(selected.helper);$current_container.trigger("ss-trashed",$selected);$selected.remove();$original_container.trigger("ss-rearrange").removeClass(original_container_class);$current_container.trigger("ss-rearrange").removeClass(current_container_class);return $previous_container.trigger("ss-arrange").removeClass(previous_container_class)}}})};Plugin.prototype.setTargetPosition=function(){var $selected,$start_container,$target,attributes,child_positions,cutoff_end,cutoff_start,distance,dragged_class,options,parsed_children,placeholder_class,position_i,previous_container_class,selected_x,selected_y,shortest_distance,target_position,total_positions,x_dist,y_dist,_i;options=this.options;if(!options.enableTrash){dragged_class=options.draggedClass;$selected=$("."+dragged_class);$start_container=$selected.parent();parsed_children=this.parsedChildren;child_positions=this.getPositions(false);total_positions=child_positions.length;selected_x=$selected.offset().left-$start_container.offset().left+this.globals.col_width/2;selected_y=$selected.offset().top-$start_container.offset().top+$selected.height()/2;shortest_distance=9999999;target_position=0;if(total_positions>1){cutoff_start=options.cutoffStart+1||0;cutoff_end=options.cutoffEnd||total_positions;for(position_i=_i=cutoff_start;cutoff_start<=cutoff_end?_i<cutoff_end:_i>cutoff_end;position_i=cutoff_start<=cutoff_end?++_i:--_i){attributes=child_positions[position_i];if(attributes){y_dist=selected_x-attributes.left;x_dist=selected_y-attributes.top;if(y_dist>0&&x_dist>0){distance=Math.sqrt(x_dist*x_dist+y_dist*y_dist);if(distance<shortest_distance){shortest_distance=distance;target_position=position_i;if(position_i===total_positions-1)if(y_dist>parsed_children[position_i].height/2)target_position++}}}}if(target_position===parsed_children.length){$target=parsed_children[target_position-1].el;$selected.insertAfter($target)}else{$target=parsed_children[target_position].el;$selected.insertBefore($target)}}else if(1===total_positions){attributes=child_positions[0];if(attributes.left<selected_x)this.$container.append($selected);else this.$container.prepend($selected)}else this.$container.append($selected);this.arrange(true);if($start_container[0]!==$selected.parent()[0]){previous_container_class=options.previousContainerClass;if(true==$("."+previous_container_class).data("plugin_shapeshift").options.enableCrossDrop)return $("."+previous_container_class).trigger("ss-rearrange");else return $("."+previous_container_class)}}else{placeholder_class=this.options.placeholderClass;return $("."+placeholder_class).remove()}};Plugin.prototype.enableResize=function(){var animation_speed,binding,resizing,_this=this;animation_speed=this.options.animationSpeed;resizing=false;binding="resize."+this.identifier;return $(window).on(binding,function(){if(!resizing){resizing=true;setTimeout(function(){return _this.render()},animation_speed/3);setTimeout(function(){return _this.render()},animation_speed/3);return setTimeout(function(){resizing=false;return _this.render()},animation_speed/3)}})};Plugin.prototype.shuffle=function(){var calculateShuffled;calculateShuffled=function(container,activeClass){var shuffle;shuffle=function(arr){var i,j,x;j=void 0;x=void 0;i=arr.length;while(i){j=parseInt(Math.random()*i);x=arr[--i];arr[i]=arr[j];arr[j]=x}return arr};return container.each(function(){var items;items=container.find("."+activeClass).filter(":visible");if(items.length)return container.html(shuffle(items));else return this})};if(!this.globals.dragging){calculateShuffled(this.$container,this.options.activeClass);this.enableFeatures();return this.$container.trigger("ss-rearrange")}};Plugin.prototype.lowestCol=function(array,offset){var augmented_array,i,length,_i;if(null==offset)offset=0;length=array.length;augmented_array=[];for(i=_i=0;0<=length?_i<length:_i>length;i=0<=length?++_i:--_i)augmented_array.push([array[i],i]);augmented_array.sort(function(a,b){var ret;ret=a[0]-b[0];if(0===ret)ret=a[1]-b[1];return ret});return augmented_array[offset][1]};Plugin.prototype.highestCol=function(array){return $.inArray(Math.max.apply(window,array),array)};Plugin.prototype.destroy=function(){var $active_children,$container,active_class;$container=this.$container;$container.off("ss-arrange");$container.off("ss-rearrange");$container.off("ss-setTargetPosition");$container.off("ss-destroy");active_class=this.options.activeClass;$active_children=$container.find("."+active_class);if(this.options.enableDrag)$active_children.draggable("destroy");if(this.options.enableCrossDrop)$container.droppable("destroy");$active_children.removeClass(active_class);return $container.removeClass(this.identifier)};return Plugin}();return $.fn[pluginName]=function(options){return this.each(function(){var bound_indentifier,old_class,_ref,_ref1;old_class=null!=(_ref=$(this).attr("class"))?null!=(_ref1=_ref.match(/shapeshifted_container_\w+/))?_ref1[0]:void 0:void 0;if(old_class){bound_indentifier="resize."+old_class;$(window).off(bound_indentifier);$(this).removeClass(old_class)}return $.data(this,"plugin_"+pluginName,new Plugin(this,options))})}})(jQuery,window,document)}).call(void 0);const PokemonApi=__webpack_require__(32);const options={protocol:"https",versionPath:"/api/v2/",cache:true,timeout:5*1e3};var monsterLocator=new monsterLocators_MonsterLocator(new PokemonApi.Pokedex(options));var moveLocator=new moveLocator_MoveLocator(monsterLocator.api());const pokeballBtn=document.getElementsByClassName("ball-btn");shapeshiftInit();initPokeballs();function initPokeballs(){for(let i=0;i<pokeballBtn.length;i++)pokeballBtn[i].addEventListener("click",placePokemonInBall);function placePokemonInBall(){this.removeEventListener("click",placePokemonInBall);getCurrentPokeBall(this).classList.add("opened");let currentImgNode=getClosest(this,".poke-img");let currentNameNode=getClosest(this,".name-wrapper");let currentTypeNode=getClosest(this,".poke-types");let currentMoveNode=getClosest(this,".moves");monsterLocator.locateRandomPokemon().then(monster=>{moveLocator.locateRandomMoveSet(4,monster.learnableMoves).then(res=>{Promise.all(res).then(res=>{monster.setMovePool(res)}).then(()=>{MonsterDom.setNameNode(monster,currentNameNode);MonsterDom.setTypeNodes(monster,currentTypeNode);MonsterDom.setMoveNodes(monster.movePool,currentMoveNode);MonsterDom.setImageNode(monster.img,currentImgNode);initNodes([currentNameNode,currentTypeNode,currentMoveNode]);getClosest(this,".wrapper").classList.add("flip");currentImgNode.classList.add("opened")})})})}function getClosest(node,className){if(".wrapper"===className)return node.closest(".wrapper");return node.closest(".wrapper").querySelector(className)}function getCurrentPokeBall(node){return node.closest(".ball")}function initNodes(nodeArr){nodeArr.forEach(node=>{node.classList.add("loaded")})}}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var endpoints=__webpack_require__(8);var rootEndpoints=__webpack_require__(9);var axios=__webpack_require__(10);var axios_default=__webpack_require__.n(axios);var localforage=__webpack_require__(1);var localforage_default=__webpack_require__.n(localforage);const values={};values.protocol="http";values.hostName="pokeapi.co";values.versionPath="/api/v2/";values.offset=0;values.limit=1e5;values.timeout=20*1e3;values.cache=true;values.setProtocol=(newProtocol=>{values.protocol=newProtocol});values.setHostName=(newHostName=>{values.hostName=newHostName});values.setVersionPath=(newVersionPath=>{values.versionPath=newVersionPath});values.setOffset=(newOffset=>{values.offset=newOffset-1});values.setLimit=(newLimit=>{values.limit=newLimit+1});values.setTimeout=(newTimeout=>{values.timeout=newTimeout});values.setCache=(newCache=>{values.cache=newCache});const CACHE_PREFIX="pokeapi-js-wrapper-";function loadResource(url){return new Promise((resolve,reject)=>{localforage_default.a.ready().then(()=>{localforage_default.a.getItem(`${CACHE_PREFIX}${url}`).then(value=>{if(null===value)loadUrl(url).then(res=>{resolve(res)}).catch(err=>{reject(err)});else resolve(addCacheMark(value))}).catch(()=>{loadUrl(url).then(res=>{resolve(res)}).catch(err=>{reject(err)})})}).catch(()=>{loadUrl(url).then(res=>{resolve(res)}).catch(err=>{reject(err)})})})}function loadUrl(url){return new Promise((resolve,reject)=>{let options={baseURL:`${values.protocol}://${values.hostName}/`,timeout:values.timeout};axios_default.a.get(url,options).then(response=>{if(response.status>=400)reject(response);else{if(values.cache)localforage_default.a.setItem(`${CACHE_PREFIX}${url}`,response.data);resolve(addCacheMark(response.data,0))}}).catch(err=>{reject(err)})})}function addCacheMark(object){return object}const configurator={};configurator.setPokedexConfiguration=(config=>{if(config){if(config.hasOwnProperty("protocol"))values.setProtocol(config.protocol);if(config.hasOwnProperty("hostName"))values.setHostName(config.hostName);if(config.hasOwnProperty("versionPath"))values.setVersionPath(config.versionPath);if(config.hasOwnProperty("timeout"))values.setTimeout(config.timeout);if(config.hasOwnProperty("cache"))values.setCache(config.cache)}});configurator.setRootEndpointConfiguration=(config=>{if(config){if(config.hasOwnProperty("offset"))values.setOffset(config.offset);if(config.hasOwnProperty("limit"))values.setLimit(config.limit)}});localforage_default.a.config({name:"pokeapi-js-wrapper"});__webpack_require__.d(__webpack_exports__,"Pokedex",function(){return src_Pokedex});class src_Pokedex{constructor(config){configurator.setPokedexConfiguration(config);configurator.setRootEndpointConfiguration(config);endpoints.forEach(endpoint=>{this[endpoint[0]]=(input=>{if(input)if("number"===typeof input||"string"===typeof input)return loadResource(`${values.versionPath}${endpoint[1]}/${input}/`);else if("object"===typeof input)return Promise.all(mapResources(endpoint,input))})});rootEndpoints.forEach(rootEndpoint=>{this[rootEndpoint[0]]=(config=>{var limit=values.limit;var offset=values.offset;if(config){if(config.hasOwnProperty("offset"))offset=config.offset;if(config.hasOwnProperty("limit"))limit=config.limit}return loadResource(`${values.versionPath}${rootEndpoint[1]}?limit=${limit}&offset=${offset}`)})})}resource(path){if("string"===typeof path)return loadResource(path);else if("object"===typeof path)return Promise.all(path.map(p=>loadResource(p)));else return"String or Array is required"}}function mapResources(endpoint,input){return input.map(res=>{return loadResource(`${values.versionPath}${endpoint[1]}/${res}/`)})}}]);